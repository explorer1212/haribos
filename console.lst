     1 00000000                                 [FORMAT "WCOFF"]
     2 00000000                                 [INSTRSET "i486p"]
     3 00000000                                 [OPTIMIZE 1]
     4 00000000                                 [OPTION 1]
     5 00000000                                 [BITS 32]
     6 00000000                                 	EXTERN	_task_now
     7 00000000                                 	EXTERN	_memman_alloc_4k
     8 00000000                                 	EXTERN	_timer_alloc
     9 00000000                                 	EXTERN	_timer_init
    10 00000000                                 	EXTERN	_timer_settime
    11 00000000                                 	EXTERN	_file_readfat
    12 00000000                                 	EXTERN	_io_cli
    13 00000000                                 	EXTERN	_fifo32_status
    14 00000000                                 	EXTERN	_fifo32_get
    15 00000000                                 	EXTERN	_io_sti
    16 00000000                                 	EXTERN	_boxfill8
    17 00000000                                 	EXTERN	_sheet_refresh
    18 00000000                                 	EXTERN	_task_sleep
    19 00000000                                 	EXTERN	_putfonts8_asc_sht
    20 00000000                                 	EXTERN	_memman_total
    21 00000000                                 	EXTERN	_sprintf
    22 00000000                                 	EXTERN	_file_search
    23 00000000                                 	EXTERN	_file_loadfile
    24 00000000                                 	EXTERN	_memman_free_4k
    25 00000000                                 	EXTERN	_timer_cancel
    26 00000000                                 	EXTERN	_fifo32_put
    27 00000000                                 	EXTERN	_taskctl
    28 00000000                                 	EXTERN	_open_console
    29 00000000                                 	EXTERN	_sheet_slide
    30 00000000                                 	EXTERN	_sheet_updown
    31 00000000                                 	EXTERN	_open_constask
    32 00000000                                 	EXTERN	_set_segmdesc
    33 00000000                                 	EXTERN	_start_app
    34 00000000                                 	EXTERN	_timer_cancelall
    35 00000000                                 	EXTERN	_sheet_free
    36 00000000                                 	EXTERN	_io_in8
    37 00000000                                 	EXTERN	_io_out8
    38 00000000                                 	EXTERN	_timer_free
    39 00000000                                 	EXTERN	_memman_free
    40 00000000                                 	EXTERN	_memman_alloc
    41 00000000                                 	EXTERN	_memman_init
    42 00000000                                 	EXTERN	_putfonts8_asc
    43 00000000                                 	EXTERN	_sheet_alloc
    44 00000000                                 	EXTERN	_sheet_setbuf
    45 00000000                                 	EXTERN	_make_window8
    46 00000000                                 [FILE "console.c"]
    47                                          [SECTION .text]
    48 00000000                                 	GLOBAL	_console_task
    49 00000000                                 _console_task:
    50 00000000 55                              	PUSH	EBP
    51 00000001 89 E5                           	MOV	EBP,ESP
    52 00000003 57                              	PUSH	EDI
    53 00000004 56                              	PUSH	ESI
    54 00000005 53                              	PUSH	EBX
    55 00000006 8D 5D D4                        	LEA	EBX,DWORD [-44+EBP]
    56 00000009 83 EC 4C                        	SUB	ESP,76
    57 0000000C 8B 7D 08                        	MOV	EDI,DWORD [8+EBP]
    58 0000000F E8 [00000000]                   	CALL	_task_now
    59 00000014 68 00002D00                     	PUSH	11520
    60 00000019 68 003C0000                     	PUSH	3932160
    61 0000001E 89 45 B0                        	MOV	DWORD [-80+EBP],EAX
    62 00000021 E8 [00000000]                   	CALL	_memman_alloc_4k
    63 00000026 85 FF                           	TEST	EDI,EDI
    64 00000028 89 7D D4                        	MOV	DWORD [-44+EBP],EDI
    65 0000002B 89 45 AC                        	MOV	DWORD [-84+EBP],EAX
    66 0000002E 8B 45 B0                        	MOV	EAX,DWORD [-80+EBP]
    67 00000031 C7 45 D8 00000008               	MOV	DWORD [-40+EBP],8
    68 00000038 89 98 00000094                  	MOV	DWORD [148+EAX],EBX
    69 0000003E 58                              	POP	EAX
    70 0000003F C7 45 DC 0000001C               	MOV	DWORD [-36+EBP],28
    71 00000046 C7 45 E0 FFFFFFFF               	MOV	DWORD [-32+EBP],-1
    72 0000004D 5A                              	POP	EDX
    73 0000004E 74 24                           	JE	L2
    74 00000050 E8 [00000000]                   	CALL	_timer_alloc
    75 00000055 8B 55 B0                        	MOV	EDX,DWORD [-80+EBP]
    76 00000058 6A 01                           	PUSH	1
    77 0000005A 83 C2 10                        	ADD	EDX,16
    78 0000005D 52                              	PUSH	EDX
    79 0000005E 89 45 E4                        	MOV	DWORD [-28+EBP],EAX
    80 00000061 50                              	PUSH	EAX
    81 00000062 E8 [00000000]                   	CALL	_timer_init
    82 00000067 6A 32                           	PUSH	50
    83 00000069 FF 75 E4                        	PUSH	DWORD [-28+EBP]
    84 0000006C E8 [00000000]                   	CALL	_timer_settime
    85 00000071 83 C4 14                        	ADD	ESP,20
    86 00000074                                 L2:
    87 00000074 68 00100200                     	PUSH	1049088
    88 00000079 FF 75 AC                        	PUSH	DWORD [-84+EBP]
    89 0000007C E8 [00000000]                   	CALL	_file_readfat
    90 00000081 6A 01                           	PUSH	1
    91 00000083 6A 3E                           	PUSH	62
    92 00000085 53                              	PUSH	EBX
    93 00000086 E8 0000022A                     	CALL	_cons_putchar
    94 0000008B                                 L27:
    95 0000008B 83 C4 14                        	ADD	ESP,20
    96 0000008E                                 L3:
    97 0000008E E8 [00000000]                   	CALL	_io_cli
    98 00000093 8B 5D B0                        	MOV	EBX,DWORD [-80+EBP]
    99 00000096 83 C3 10                        	ADD	EBX,16
   100 00000099 53                              	PUSH	EBX
   101 0000009A E8 [00000000]                   	CALL	_fifo32_status
   102 0000009F 5E                              	POP	ESI
   103 000000A0 85 C0                           	TEST	EAX,EAX
   104 000000A2 0F 84 000001FA                  	JE	L29
   105 000000A8 53                              	PUSH	EBX
   106 000000A9 E8 [00000000]                   	CALL	_fifo32_get
   107 000000AE 89 C6                           	MOV	ESI,EAX
   108 000000B0 E8 [00000000]                   	CALL	_io_sti
   109 000000B5 59                              	POP	ECX
   110 000000B6 83 FE 01                        	CMP	ESI,1
   111 000000B9 0F 8E 0000018C                  	JLE	L30
   112 000000BF                                 L8:
   113 000000BF 83 FE 02                        	CMP	ESI,2
   114 000000C2 0F 84 00000177                  	JE	L31
   115 000000C8                                 L13:
   116 000000C8 83 FE 03                        	CMP	ESI,3
   117 000000CB 0F 84 0000013D                  	JE	L32
   118 000000D1                                 L14:
   119 000000D1 83 FE 04                        	CMP	ESI,4
   120 000000D4 0F 84 00000121                  	JE	L33
   121 000000DA                                 L16:
   122 000000DA 8D 8E FFFFFF00                  	LEA	ECX,DWORD [-256+ESI]
   123 000000E0 89 4D A8                        	MOV	DWORD [-88+EBP],ECX
   124 000000E3 81 F9 000000FF                  	CMP	ECX,255
   125 000000E9 77 44                           	JA	L17
   126 000000EB 81 FE 00000108                  	CMP	ESI,264
   127 000000F1 0F 84 000000E4                  	JE	L34
   128 000000F7 81 FE 0000010A                  	CMP	ESI,266
   129 000000FD 74 7D                           	JE	L35
   130 000000FF 8B 4D D8                        	MOV	ECX,DWORD [-40+EBP]
   131 00000102 81 F9 000000EF                  	CMP	ECX,239
   132 00000108 7F 25                           	JG	L17
   133 0000010A 89 C8                           	MOV	EAX,ECX
   134 0000010C BA 00000008                     	MOV	EDX,8
   135 00000111 89 D3                           	MOV	EBX,EDX
   136 00000113 6A 01                           	PUSH	1
   137 00000115 99                              	CDQ
   138 00000116 F7 FB                           	IDIV	EBX
   139 00000118 89 C1                           	MOV	ECX,EAX
   140 0000011A 89 F0                           	MOV	EAX,ESI
   141 0000011C 88 44 0D B2                     	MOV	BYTE [-78+EBP+ECX*1],AL
   142 00000120 8D 45 D4                        	LEA	EAX,DWORD [-44+EBP]
   143 00000123 FF 75 A8                        	PUSH	DWORD [-88+EBP]
   144 00000126 50                              	PUSH	EAX
   145 00000127 E8 00000189                     	CALL	_cons_putchar
   146 0000012C                                 L28:
   147 0000012C 83 C4 0C                        	ADD	ESP,12
   148 0000012F                                 L17:
   149 0000012F 83 7D D4 00                     	CMP	DWORD [-44+EBP],0
   150 00000133 0F 84 FFFFFF55                  	JE	L3
   151 00000139 83 7D E0 00                     	CMP	DWORD [-32+EBP],0
   152 0000013D 78 22                           	JS	L26
   153 0000013F 8B 4D DC                        	MOV	ECX,DWORD [-36+EBP]
   154 00000142 8B 55 D8                        	MOV	EDX,DWORD [-40+EBP]
   155 00000145 8D 41 0F                        	LEA	EAX,DWORD [15+ECX]
   156 00000148 50                              	PUSH	EAX
   157 00000149 8D 42 07                        	LEA	EAX,DWORD [7+EDX]
   158 0000014C 50                              	PUSH	EAX
   159 0000014D 51                              	PUSH	ECX
   160 0000014E 52                              	PUSH	EDX
   161 0000014F 0F B6 45 E0                     	MOVZX	EAX,BYTE [-32+EBP]
   162 00000153 50                              	PUSH	EAX
   163 00000154 FF 77 04                        	PUSH	DWORD [4+EDI]
   164 00000157 FF 37                           	PUSH	DWORD [EDI]
   165 00000159 E8 [00000000]                   	CALL	_boxfill8
   166 0000015E 83 C4 1C                        	ADD	ESP,28
   167 00000161                                 L26:
   168 00000161 8B 4D DC                        	MOV	ECX,DWORD [-36+EBP]
   169 00000164 8B 55 D8                        	MOV	EDX,DWORD [-40+EBP]
   170 00000167 8D 41 10                        	LEA	EAX,DWORD [16+ECX]
   171 0000016A 50                              	PUSH	EAX
   172 0000016B 8D 42 08                        	LEA	EAX,DWORD [8+EDX]
   173 0000016E 50                              	PUSH	EAX
   174 0000016F 51                              	PUSH	ECX
   175 00000170 52                              	PUSH	EDX
   176 00000171 57                              	PUSH	EDI
   177 00000172 E8 [00000000]                   	CALL	_sheet_refresh
   178 00000177 E9 FFFFFF0F                     	JMP	L27
   179 0000017C                                 L35:
   180 0000017C 6A 00                           	PUSH	0
   181 0000017E 8D 5D D4                        	LEA	EBX,DWORD [-44+EBP]
   182 00000181 6A 20                           	PUSH	32
   183 00000183 53                              	PUSH	EBX
   184 00000184 E8 0000012C                     	CALL	_cons_putchar
   185 00000189 53                              	PUSH	EBX
   186 0000018A 8B 45 D8                        	MOV	EAX,DWORD [-40+EBP]
   187 0000018D BA 00000008                     	MOV	EDX,8
   188 00000192 89 D1                           	MOV	ECX,EDX
   189 00000194 99                              	CDQ
   190 00000195 F7 F9                           	IDIV	ECX
   191 00000197 C6 44 05 B2 00                  	MOV	BYTE [-78+EBP+EAX*1],0
   192 0000019C E8 000001C5                     	CALL	_cons_newline
   193 000001A1 8D 45 B4                        	LEA	EAX,DWORD [-76+EBP]
   194 000001A4 FF 75 0C                        	PUSH	DWORD [12+EBP]
   195 000001A7 FF 75 AC                        	PUSH	DWORD [-84+EBP]
   196 000001AA 53                              	PUSH	EBX
   197 000001AB 50                              	PUSH	EAX
   198 000001AC E8 000002D7                     	CALL	_cons_runcmd
   199 000001B1 83 C4 20                        	ADD	ESP,32
   200 000001B4 6A 01                           	PUSH	1
   201 000001B6 6A 3E                           	PUSH	62
   202 000001B8 53                              	PUSH	EBX
   203 000001B9 E8 000000F7                     	CALL	_cons_putchar
   204 000001BE 83 C4 0C                        	ADD	ESP,12
   205 000001C1 83 7D D4 00                     	CMP	DWORD [-44+EBP],0
   206 000001C5 0F 85 FFFFFF64                  	JNE	L17
   207 000001CB FF 75 AC                        	PUSH	DWORD [-84+EBP]
   208 000001CE 53                              	PUSH	EBX
   209 000001CF E8 00000610                     	CALL	_cmd_exit
   210 000001D4 58                              	POP	EAX
   211 000001D5 5A                              	POP	EDX
   212 000001D6 E9 FFFFFF54                     	JMP	L17
   213 000001DB                                 L34:
   214 000001DB 83 7D D8 10                     	CMP	DWORD [-40+EBP],16
   215 000001DF 0F 8E FFFFFF4A                  	JLE	L17
   216 000001E5 6A 00                           	PUSH	0
   217 000001E7 8D 45 D4                        	LEA	EAX,DWORD [-44+EBP]
   218 000001EA 6A 20                           	PUSH	32
   219 000001EC 50                              	PUSH	EAX
   220 000001ED E8 000000C3                     	CALL	_cons_putchar
   221 000001F2 83 6D D8 08                     	SUB	DWORD [-40+EBP],8
   222 000001F6 E9 FFFFFF31                     	JMP	L28
   223 000001FB                                 L33:
   224 000001FB FF 75 AC                        	PUSH	DWORD [-84+EBP]
   225 000001FE 8D 45 D4                        	LEA	EAX,DWORD [-44+EBP]
   226 00000201 50                              	PUSH	EAX
   227 00000202 E8 000005DD                     	CALL	_cmd_exit
   228 00000207 59                              	POP	ECX
   229 00000208 5B                              	POP	EBX
   230 00000209 E9 FFFFFECC                     	JMP	L16
   231 0000020E                                 L32:
   232 0000020E 83 7D D4 00                     	CMP	DWORD [-44+EBP],0
   233 00000212 74 1F                           	JE	L15
   234 00000214 8B 4D DC                        	MOV	ECX,DWORD [-36+EBP]
   235 00000217 8B 55 D8                        	MOV	EDX,DWORD [-40+EBP]
   236 0000021A 8D 41 0F                        	LEA	EAX,DWORD [15+ECX]
   237 0000021D 50                              	PUSH	EAX
   238 0000021E 8D 42 07                        	LEA	EAX,DWORD [7+EDX]
   239 00000221 50                              	PUSH	EAX
   240 00000222 51                              	PUSH	ECX
   241 00000223 52                              	PUSH	EDX
   242 00000224 6A 00                           	PUSH	0
   243 00000226 FF 77 04                        	PUSH	DWORD [4+EDI]
   244 00000229 FF 37                           	PUSH	DWORD [EDI]
   245 0000022B E8 [00000000]                   	CALL	_boxfill8
   246 00000230 83 C4 1C                        	ADD	ESP,28
   247 00000233                                 L15:
   248 00000233 C7 45 E0 FFFFFFFF               	MOV	DWORD [-32+EBP],-1
   249 0000023A E9 FFFFFE92                     	JMP	L14
   250 0000023F                                 L31:
   251 0000023F C7 45 E0 00000007               	MOV	DWORD [-32+EBP],7
   252 00000246 E9 FFFFFE7D                     	JMP	L13
   253 0000024B                                 L30:
   254 0000024B 83 7D D4 00                     	CMP	DWORD [-44+EBP],0
   255 0000024F 0F 84 FFFFFE6A                  	JE	L8
   256 00000255 85 F6                           	TEST	ESI,ESI
   257 00000257 74 2C                           	JE	L9
   258 00000259 6A 00                           	PUSH	0
   259 0000025B 53                              	PUSH	EBX
   260 0000025C FF 75 E4                        	PUSH	DWORD [-28+EBP]
   261 0000025F E8 [00000000]                   	CALL	_timer_init
   262 00000264 83 C4 0C                        	ADD	ESP,12
   263 00000267 83 7D E0 00                     	CMP	DWORD [-32+EBP],0
   264 0000026B 78 07                           	JS	L11
   265 0000026D C7 45 E0 00000007               	MOV	DWORD [-32+EBP],7
   266 00000274                                 L11:
   267 00000274 6A 32                           	PUSH	50
   268 00000276 FF 75 E4                        	PUSH	DWORD [-28+EBP]
   269 00000279 E8 [00000000]                   	CALL	_timer_settime
   270 0000027E 58                              	POP	EAX
   271 0000027F 5A                              	POP	EDX
   272 00000280 E9 FFFFFE3A                     	JMP	L8
   273 00000285                                 L9:
   274 00000285 6A 01                           	PUSH	1
   275 00000287 53                              	PUSH	EBX
   276 00000288 FF 75 E4                        	PUSH	DWORD [-28+EBP]
   277 0000028B E8 [00000000]                   	CALL	_timer_init
   278 00000290 83 C4 0C                        	ADD	ESP,12
   279 00000293 83 7D E0 00                     	CMP	DWORD [-32+EBP],0
   280 00000297 78 DB                           	JS	L11
   281 00000299 C7 45 E0 00000000               	MOV	DWORD [-32+EBP],0
   282 000002A0 EB D2                           	JMP	L11
   283 000002A2                                 L29:
   284 000002A2 FF 75 B0                        	PUSH	DWORD [-80+EBP]
   285 000002A5 E8 [00000000]                   	CALL	_task_sleep
   286 000002AA E8 [00000000]                   	CALL	_io_sti
   287 000002AF 5B                              	POP	EBX
   288 000002B0 E9 FFFFFDD9                     	JMP	L3
   289                                          [SECTION .data]
   290 00000000                                 LC0:
   291 00000000 20 00                           	DB	" ",0x00
   292                                          [SECTION .text]
   293 000002B5                                 	GLOBAL	_cons_putchar
   294 000002B5                                 _cons_putchar:
   295 000002B5 55                              	PUSH	EBP
   296 000002B6 89 E5                           	MOV	EBP,ESP
   297 000002B8 53                              	PUSH	EBX
   298 000002B9 50                              	PUSH	EAX
   299 000002BA 8B 45 0C                        	MOV	EAX,DWORD [12+EBP]
   300 000002BD 8A 55 10                        	MOV	DL,BYTE [16+EBP]
   301 000002C0 8B 5D 08                        	MOV	EBX,DWORD [8+EBP]
   302 000002C3 88 55 F9                        	MOV	BYTE [-7+EBP],DL
   303 000002C6 88 45 FA                        	MOV	BYTE [-6+EBP],AL
   304 000002C9 3C 09                           	CMP	AL,9
   305 000002CB C6 45 FB 00                     	MOV	BYTE [-5+EBP],0
   306 000002CF 74 4D                           	JE	L38
   307 000002D1 3C 0A                           	CMP	AL,10
   308 000002D3 74 25                           	JE	L52
   309 000002D5 3C 0D                           	CMP	AL,13
   310 000002D7 74 1C                           	JE	L36
   311 000002D9 8B 13                           	MOV	EDX,DWORD [EBX]
   312 000002DB 85 D2                           	TEST	EDX,EDX
   313 000002DD 75 24                           	JNE	L53
   314 000002DF                                 L49:
   315 000002DF 80 7D F9 00                     	CMP	BYTE [-7+EBP],0
   316 000002E3 74 10                           	JE	L36
   317 000002E5 8B 43 04                        	MOV	EAX,DWORD [4+EBX]
   318 000002E8 83 C0 08                        	ADD	EAX,8
   319 000002EB 89 43 04                        	MOV	DWORD [4+EBX],EAX
   320 000002EE 3D 000000F8                     	CMP	EAX,248
   321 000002F3 74 05                           	JE	L52
   322 000002F5                                 L36:
   323 000002F5 8B 5D FC                        	MOV	EBX,DWORD [-4+EBP]
   324 000002F8 C9                              	LEAVE
   325 000002F9 C3                              	RET
   326 000002FA                                 L52:
   327 000002FA 53                              	PUSH	EBX
   328 000002FB E8 00000066                     	CALL	_cons_newline
   329 00000300 59                              	POP	ECX
   330 00000301 EB F2                           	JMP	L36
   331 00000303                                 L53:
   332 00000303 6A 01                           	PUSH	1
   333 00000305 8D 45 FA                        	LEA	EAX,DWORD [-6+EBP]
   334 00000308 50                              	PUSH	EAX
   335 00000309 6A 00                           	PUSH	0
   336 0000030B 6A 07                           	PUSH	7
   337 0000030D FF 73 08                        	PUSH	DWORD [8+EBX]
   338 00000310 FF 73 04                        	PUSH	DWORD [4+EBX]
   339 00000313 52                              	PUSH	EDX
   340 00000314 E8 [00000000]                   	CALL	_putfonts8_asc_sht
   341 00000319 83 C4 1C                        	ADD	ESP,28
   342 0000031C EB C1                           	JMP	L49
   343 0000031E                                 L38:
   344 0000031E 8B 03                           	MOV	EAX,DWORD [EBX]
   345 00000320 85 C0                           	TEST	EAX,EAX
   346 00000322 75 26                           	JNE	L54
   347 00000324                                 L41:
   348 00000324 8B 43 04                        	MOV	EAX,DWORD [4+EBX]
   349 00000327 83 C0 08                        	ADD	EAX,8
   350 0000032A 89 43 04                        	MOV	DWORD [4+EBX],EAX
   351 0000032D 3D 000000F8                     	CMP	EAX,248
   352 00000332 74 0D                           	JE	L55
   353 00000334                                 L42:
   354 00000334 8B 43 04                        	MOV	EAX,DWORD [4+EBX]
   355 00000337 83 E8 08                        	SUB	EAX,8
   356 0000033A 83 E0 1F                        	AND	EAX,31
   357 0000033D 75 DF                           	JNE	L38
   358 0000033F EB B4                           	JMP	L36
   359 00000341                                 L55:
   360 00000341 53                              	PUSH	EBX
   361 00000342 E8 0000001F                     	CALL	_cons_newline
   362 00000347 58                              	POP	EAX
   363 00000348 EB EA                           	JMP	L42
   364 0000034A                                 L54:
   365 0000034A 6A 01                           	PUSH	1
   366 0000034C 68 [00000000]                   	PUSH	LC0
   367 00000351 6A 00                           	PUSH	0
   368 00000353 6A 07                           	PUSH	7
   369 00000355 FF 73 08                        	PUSH	DWORD [8+EBX]
   370 00000358 FF 73 04                        	PUSH	DWORD [4+EBX]
   371 0000035B 50                              	PUSH	EAX
   372 0000035C E8 [00000000]                   	CALL	_putfonts8_asc_sht
   373 00000361 83 C4 1C                        	ADD	ESP,28
   374 00000364 EB BE                           	JMP	L41
   375 00000366                                 	GLOBAL	_cons_newline
   376 00000366                                 _cons_newline:
   377 00000366 55                              	PUSH	EBP
   378 00000367 89 E5                           	MOV	EBP,ESP
   379 00000369 57                              	PUSH	EDI
   380 0000036A 56                              	PUSH	ESI
   381 0000036B 53                              	PUSH	EBX
   382 0000036C 50                              	PUSH	EAX
   383 0000036D 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
   384 00000370 8B 55 08                        	MOV	EDX,DWORD [8+EBP]
   385 00000373 8B 00                           	MOV	EAX,DWORD [EAX]
   386 00000375 89 45 F0                        	MOV	DWORD [-16+EBP],EAX
   387 00000378 8B 42 08                        	MOV	EAX,DWORD [8+EDX]
   388 0000037B 3D 0000008B                     	CMP	EAX,139
   389 00000380 7F 18                           	JG	L57
   390 00000382 83 C0 10                        	ADD	EAX,16
   391 00000385 89 42 08                        	MOV	DWORD [8+EDX],EAX
   392 00000388                                 L58:
   393 00000388 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
   394 0000038B C7 40 04 00000008               	MOV	DWORD [4+EAX],8
   395 00000392 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   396 00000395 5B                              	POP	EBX
   397 00000396 5E                              	POP	ESI
   398 00000397 5F                              	POP	EDI
   399 00000398 5D                              	POP	EBP
   400 00000399 C3                              	RET
   401 0000039A                                 L57:
   402 0000039A 83 7D F0 00                     	CMP	DWORD [-16+EBP],0
   403 0000039E 74 E8                           	JE	L58
   404 000003A0 BF 0000001C                     	MOV	EDI,28
   405 000003A5                                 L69:
   406 000003A5 BE 00000008                     	MOV	ESI,8
   407 000003AA                                 L68:
   408 000003AA 8B 45 F0                        	MOV	EAX,DWORD [-16+EBP]
   409 000003AD 89 FA                           	MOV	EDX,EDI
   410 000003AF 8B 48 04                        	MOV	ECX,DWORD [4+EAX]
   411 000003B2 8B 18                           	MOV	EBX,DWORD [EAX]
   412 000003B4 8D 47 10                        	LEA	EAX,DWORD [16+EDI]
   413 000003B7 0F AF C1                        	IMUL	EAX,ECX
   414 000003BA 0F AF D1                        	IMUL	EDX,ECX
   415 000003BD 8D 04 30                        	LEA	EAX,DWORD [EAX+ESI*1]
   416 000003C0 8D 14 32                        	LEA	EDX,DWORD [EDX+ESI*1]
   417 000003C3 46                              	INC	ESI
   418 000003C4 8A 04 18                        	MOV	AL,BYTE [EAX+EBX*1]
   419 000003C7 81 FE 000000F7                  	CMP	ESI,247
   420 000003CD 88 04 1A                        	MOV	BYTE [EDX+EBX*1],AL
   421 000003D0 7E D8                           	JLE	L68
   422 000003D2 47                              	INC	EDI
   423 000003D3 81 FF 0000008B                  	CMP	EDI,139
   424 000003D9 7E CA                           	JLE	L69
   425 000003DB BF 0000008C                     	MOV	EDI,140
   426 000003E0                                 L79:
   427 000003E0 BE 00000008                     	MOV	ESI,8
   428 000003E5                                 L78:
   429 000003E5 8B 55 F0                        	MOV	EDX,DWORD [-16+EBP]
   430 000003E8 89 F8                           	MOV	EAX,EDI
   431 000003EA 89 D1                           	MOV	ECX,EDX
   432 000003EC 0F AF 42 04                     	IMUL	EAX,DWORD [4+EDX]
   433 000003F0 8B 12                           	MOV	EDX,DWORD [EDX]
   434 000003F2 8D 04 30                        	LEA	EAX,DWORD [EAX+ESI*1]
   435 000003F5 46                              	INC	ESI
   436 000003F6 81 FE 000000F7                  	CMP	ESI,247
   437 000003FC C6 04 10 00                     	MOV	BYTE [EAX+EDX*1],0
   438 00000400 7E E3                           	JLE	L78
   439 00000402 47                              	INC	EDI
   440 00000403 81 FF 0000009B                  	CMP	EDI,155
   441 00000409 7E D5                           	JLE	L79
   442 0000040B 68 0000009C                     	PUSH	156
   443 00000410 68 000000F8                     	PUSH	248
   444 00000415 6A 1C                           	PUSH	28
   445 00000417 6A 08                           	PUSH	8
   446 00000419 51                              	PUSH	ECX
   447 0000041A E8 [00000000]                   	CALL	_sheet_refresh
   448 0000041F 83 C4 14                        	ADD	ESP,20
   449 00000422 E9 FFFFFF61                     	JMP	L58
   450 00000427                                 	GLOBAL	_cons_putstr0
   451 00000427                                 _cons_putstr0:
   452 00000427 55                              	PUSH	EBP
   453 00000428 89 E5                           	MOV	EBP,ESP
   454 0000042A 56                              	PUSH	ESI
   455 0000042B 53                              	PUSH	EBX
   456 0000042C 8B 5D 0C                        	MOV	EBX,DWORD [12+EBP]
   457 0000042F 8B 75 08                        	MOV	ESI,DWORD [8+EBP]
   458 00000432 80 3B 00                        	CMP	BYTE [EBX],0
   459 00000435 75 07                           	JNE	L93
   460 00000437                                 L95:
   461 00000437 8D 65 F8                        	LEA	ESP,DWORD [-8+EBP]
   462 0000043A 5B                              	POP	EBX
   463 0000043B 5E                              	POP	ESI
   464 0000043C 5D                              	POP	EBP
   465 0000043D C3                              	RET
   466 0000043E                                 L93:
   467 0000043E 6A 01                           	PUSH	1
   468 00000440 0F BE 03                        	MOVSX	EAX,BYTE [EBX]
   469 00000443 50                              	PUSH	EAX
   470 00000444 43                              	INC	EBX
   471 00000445 56                              	PUSH	ESI
   472 00000446 E8 FFFFFE6A                     	CALL	_cons_putchar
   473 0000044B 83 C4 0C                        	ADD	ESP,12
   474 0000044E 80 3B 00                        	CMP	BYTE [EBX],0
   475 00000451 75 EB                           	JNE	L93
   476 00000453 EB E2                           	JMP	L95
   477 00000455                                 	GLOBAL	_cons_putstr1
   478 00000455                                 _cons_putstr1:
   479 00000455 55                              	PUSH	EBP
   480 00000456 89 E5                           	MOV	EBP,ESP
   481 00000458 57                              	PUSH	EDI
   482 00000459 56                              	PUSH	ESI
   483 0000045A 53                              	PUSH	EBX
   484 0000045B 8B 75 10                        	MOV	ESI,DWORD [16+EBP]
   485 0000045E 31 DB                           	XOR	EBX,EBX
   486 00000460 8B 7D 0C                        	MOV	EDI,DWORD [12+EBP]
   487 00000463 39 F3                           	CMP	EBX,ESI
   488 00000465 7C 08                           	JL	L101
   489 00000467                                 L103:
   490 00000467 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   491 0000046A 5B                              	POP	EBX
   492 0000046B 5E                              	POP	ESI
   493 0000046C 5F                              	POP	EDI
   494 0000046D 5D                              	POP	EBP
   495 0000046E C3                              	RET
   496 0000046F                                 L101:
   497 0000046F 6A 01                           	PUSH	1
   498 00000471 0F BE 04 3B                     	MOVSX	EAX,BYTE [EBX+EDI*1]
   499 00000475 50                              	PUSH	EAX
   500 00000476 43                              	INC	EBX
   501 00000477 FF 75 08                        	PUSH	DWORD [8+EBP]
   502 0000047A E8 FFFFFE36                     	CALL	_cons_putchar
   503 0000047F 83 C4 0C                        	ADD	ESP,12
   504 00000482 39 F3                           	CMP	EBX,ESI
   505 00000484 7C E9                           	JL	L101
   506 00000486 EB DF                           	JMP	L103
   507                                          [SECTION .data]
   508 00000002                                 LC1:
   509 00000002 6D 65 6D 00                     	DB	"mem",0x00
   510 00000006                                 LC2:
   511 00000006 63 6C 73 00                     	DB	"cls",0x00
   512 0000000A                                 LC3:
   513 0000000A 64 69 72 00                     	DB	"dir",0x00
   514 0000000E                                 LC4:
   515 0000000E 74 79 70 65 20 00               	DB	"type ",0x00
   516 00000014                                 LC5:
   517 00000014 65 78 69 74 00                  	DB	"exit",0x00
   518 00000019                                 LC6:
   519 00000019 73 74 61 72 74 20 00            	DB	"start ",0x00
   520 00000020                                 LC7:
   521 00000020 6E 63 73 74 20 00               	DB	"ncst ",0x00
   522 00000026                                 LC8:
   523 00000026 42 61 64 20 63 6F 6D 6D 61 6E   	DB	"Bad comman.",0x0A,0x0A,0x00
       00000030 2E 0A 0A 00 
   524                                          [SECTION .text]
   525 00000488                                 	GLOBAL	_cons_runcmd
   526 00000488                                 _cons_runcmd:
   527 00000488 55                              	PUSH	EBP
   528 00000489 89 E5                           	MOV	EBP,ESP
   529 0000048B 57                              	PUSH	EDI
   530 0000048C 56                              	PUSH	ESI
   531 0000048D BF [00000002]                   	MOV	EDI,LC1
   532 00000492 53                              	PUSH	EBX
   533 00000493 83 EC 0C                        	SUB	ESP,12
   534 00000496 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
   535 00000499 8B 4D 10                        	MOV	ECX,DWORD [16+EBP]
   536 0000049C 89 45 E8                        	MOV	DWORD [-24+EBP],EAX
   537 0000049F 89 4D F0                        	MOV	DWORD [-16+EBP],ECX
   538 000004A2 8B 45 14                        	MOV	EAX,DWORD [20+EBP]
   539 000004A5 8B 75 E8                        	MOV	ESI,DWORD [-24+EBP]
   540 000004A8 89 45 EC                        	MOV	DWORD [-20+EBP],EAX
   541 000004AB 8B 5D 0C                        	MOV	EBX,DWORD [12+EBP]
   542 000004AE B8 00000004                     	MOV	EAX,4
   543 000004B3 FC                              	CLD
   544 000004B4 89 C1                           	MOV	ECX,EAX
   545 000004B6 F3                              	REPE
   546 000004B7 A6                              	CMPSB
   547 000004B8 75 09                           	JNE	L105
   548 000004BA 83 3B 00                        	CMP	DWORD [EBX],0
   549 000004BD 0F 85 0000014F                  	JNE	L121
   550 000004C3                                 L105:
   551 000004C3 B8 00000004                     	MOV	EAX,4
   552 000004C8 8B 75 E8                        	MOV	ESI,DWORD [-24+EBP]
   553 000004CB FC                              	CLD
   554 000004CC BF [00000006]                   	MOV	EDI,LC2
   555 000004D1 89 C1                           	MOV	ECX,EAX
   556 000004D3 F3                              	REPE
   557 000004D4 A6                              	CMPSB
   558 000004D5 75 09                           	JNE	L107
   559 000004D7 83 3B 00                        	CMP	DWORD [EBX],0
   560 000004DA 0F 85 00000126                  	JNE	L122
   561 000004E0                                 L107:
   562 000004E0 B8 00000004                     	MOV	EAX,4
   563 000004E5 8B 75 E8                        	MOV	ESI,DWORD [-24+EBP]
   564 000004E8 FC                              	CLD
   565 000004E9 BF [0000000A]                   	MOV	EDI,LC3
   566 000004EE 89 C1                           	MOV	ECX,EAX
   567 000004F0 F3                              	REPE
   568 000004F1 A6                              	CMPSB
   569 000004F2 75 09                           	JNE	L109
   570 000004F4 83 3B 00                        	CMP	DWORD [EBX],0
   571 000004F7 0F 85 000000FA                  	JNE	L123
   572 000004FD                                 L109:
   573 000004FD B8 00000005                     	MOV	EAX,5
   574 00000502 8B 75 E8                        	MOV	ESI,DWORD [-24+EBP]
   575 00000505 FC                              	CLD
   576 00000506 BF [0000000E]                   	MOV	EDI,LC4
   577 0000050B 89 C1                           	MOV	ECX,EAX
   578 0000050D F3                              	REPE
   579 0000050E A6                              	CMPSB
   580 0000050F 75 09                           	JNE	L111
   581 00000511 83 3B 00                        	CMP	DWORD [EBX],0
   582 00000514 0F 85 000000C2                  	JNE	L124
   583 0000051A                                 L111:
   584 0000051A B8 00000005                     	MOV	EAX,5
   585 0000051F 8B 75 E8                        	MOV	ESI,DWORD [-24+EBP]
   586 00000522 FC                              	CLD
   587 00000523 BF [00000014]                   	MOV	EDI,LC5
   588 00000528 89 C1                           	MOV	ECX,EAX
   589 0000052A F3                              	REPE
   590 0000052B A6                              	CMPSB
   591 0000052C 0F 84 00000095                  	JE	L125
   592 00000532 B8 00000006                     	MOV	EAX,6
   593 00000537 8B 75 E8                        	MOV	ESI,DWORD [-24+EBP]
   594 0000053A FC                              	CLD
   595 0000053B BF [00000019]                   	MOV	EDI,LC6
   596 00000540 89 C1                           	MOV	ECX,EAX
   597 00000542 F3                              	REPE
   598 00000543 A6                              	CMPSB
   599 00000544 74 66                           	JE	L126
   600 00000546 B8 00000005                     	MOV	EAX,5
   601 0000054B 8B 75 E8                        	MOV	ESI,DWORD [-24+EBP]
   602 0000054E FC                              	CLD
   603 0000054F BF [00000020]                   	MOV	EDI,LC7
   604 00000554 89 C1                           	MOV	ECX,EAX
   605 00000556 F3                              	REPE
   606 00000557 A6                              	CMPSB
   607 00000558 74 37                           	JE	L127
   608 0000055A 8B 45 E8                        	MOV	EAX,DWORD [-24+EBP]
   609 0000055D 80 38 00                        	CMP	BYTE [EAX],0
   610 00000560 75 08                           	JNE	L128
   611 00000562                                 L104:
   612 00000562 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   613 00000565 5B                              	POP	EBX
   614 00000566 5E                              	POP	ESI
   615 00000567 5F                              	POP	EDI
   616 00000568 5D                              	POP	EBP
   617 00000569 C3                              	RET
   618 0000056A                                 L128:
   619 0000056A 50                              	PUSH	EAX
   620 0000056B FF 75 F0                        	PUSH	DWORD [-16+EBP]
   621 0000056E 53                              	PUSH	EBX
   622 0000056F E8 000003F6                     	CALL	_cmd_app
   623 00000574 83 C4 0C                        	ADD	ESP,12
   624 00000577 85 C0                           	TEST	EAX,EAX
   625 00000579 75 E7                           	JNE	L104
   626 0000057B C7 45 0C [00000026]             	MOV	DWORD [12+EBP],LC8
   627 00000582 89 5D 08                        	MOV	DWORD [8+EBP],EBX
   628 00000585 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   629 00000588 5B                              	POP	EBX
   630 00000589 5E                              	POP	ESI
   631 0000058A 5F                              	POP	EDI
   632 0000058B 5D                              	POP	EBP
   633 0000058C E9 FFFFFE96                     	JMP	_cons_putstr0
   634 00000591                                 L127:
   635 00000591 8B 45 EC                        	MOV	EAX,DWORD [-20+EBP]
   636 00000594 8B 4D E8                        	MOV	ECX,DWORD [-24+EBP]
   637 00000597 89 45 10                        	MOV	DWORD [16+EBP],EAX
   638 0000059A 89 4D 0C                        	MOV	DWORD [12+EBP],ECX
   639 0000059D 89 5D 08                        	MOV	DWORD [8+EBP],EBX
   640 000005A0 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   641 000005A3 5B                              	POP	EBX
   642 000005A4 5E                              	POP	ESI
   643 000005A5 5F                              	POP	EDI
   644 000005A6 5D                              	POP	EBP
   645 000005A7 E9 0000035A                     	JMP	_cmd_ncst
   646 000005AC                                 L126:
   647 000005AC 8B 45 EC                        	MOV	EAX,DWORD [-20+EBP]
   648 000005AF 8B 4D E8                        	MOV	ECX,DWORD [-24+EBP]
   649 000005B2 89 45 10                        	MOV	DWORD [16+EBP],EAX
   650 000005B5 89 4D 0C                        	MOV	DWORD [12+EBP],ECX
   651 000005B8 89 5D 08                        	MOV	DWORD [8+EBP],EBX
   652 000005BB 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   653 000005BE 5B                              	POP	EBX
   654 000005BF 5E                              	POP	ESI
   655 000005C0 5F                              	POP	EDI
   656 000005C1 5D                              	POP	EBP
   657 000005C2 E9 000002B5                     	JMP	_cmd_start
   658 000005C7                                 L125:
   659 000005C7 8B 45 F0                        	MOV	EAX,DWORD [-16+EBP]
   660 000005CA 89 5D 08                        	MOV	DWORD [8+EBP],EBX
   661 000005CD 89 45 0C                        	MOV	DWORD [12+EBP],EAX
   662 000005D0 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   663 000005D3 5B                              	POP	EBX
   664 000005D4 5E                              	POP	ESI
   665 000005D5 5F                              	POP	EDI
   666 000005D6 5D                              	POP	EBP
   667 000005D7 E9 00000208                     	JMP	_cmd_exit
   668 000005DC                                 L124:
   669 000005DC 8B 45 E8                        	MOV	EAX,DWORD [-24+EBP]
   670 000005DF 8B 4D F0                        	MOV	ECX,DWORD [-16+EBP]
   671 000005E2 89 45 10                        	MOV	DWORD [16+EBP],EAX
   672 000005E5 89 4D 0C                        	MOV	DWORD [12+EBP],ECX
   673 000005E8 89 5D 08                        	MOV	DWORD [8+EBP],EBX
   674 000005EB 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   675 000005EE 5B                              	POP	EBX
   676 000005EF 5E                              	POP	ESI
   677 000005F0 5F                              	POP	EDI
   678 000005F1 5D                              	POP	EBP
   679 000005F2 E9 0000015D                     	JMP	_cmd_type
   680 000005F7                                 L123:
   681 000005F7 89 5D 08                        	MOV	DWORD [8+EBP],EBX
   682 000005FA 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   683 000005FD 5B                              	POP	EBX
   684 000005FE 5E                              	POP	ESI
   685 000005FF 5F                              	POP	EDI
   686 00000600 5D                              	POP	EBP
   687 00000601 E9 000000B8                     	JMP	_cmd_dir
   688 00000606                                 L122:
   689 00000606 89 5D 08                        	MOV	DWORD [8+EBP],EBX
   690 00000609 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   691 0000060C 5B                              	POP	EBX
   692 0000060D 5E                              	POP	ESI
   693 0000060E 5F                              	POP	EDI
   694 0000060F 5D                              	POP	EBP
   695 00000610 EB 53                           	JMP	_cmd_cls
   696 00000612                                 L121:
   697 00000612 8B 45 EC                        	MOV	EAX,DWORD [-20+EBP]
   698 00000615 89 5D 08                        	MOV	DWORD [8+EBP],EBX
   699 00000618 89 45 0C                        	MOV	DWORD [12+EBP],EAX
   700 0000061B 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   701 0000061E 5B                              	POP	EBX
   702 0000061F 5E                              	POP	ESI
   703 00000620 5F                              	POP	EDI
   704 00000621 5D                              	POP	EBP
   705 00000622 EB 00                           	JMP	_cmd_mem
   706                                          [SECTION .data]
   707 00000034                                 LC9:
   708 00000034 74 6F 74 61 6C 20 20 20 25 64   	DB	"total   %dMB",0x0A,"free %dKB",0x0A,0x0A,0x00
       0000003E 4D 42 0A 66 72 65 65 20 25 64 
       00000048 4B 42 0A 0A 00 
   709                                          [SECTION .text]
   710 00000624                                 	GLOBAL	_cmd_mem
   711 00000624                                 _cmd_mem:
   712 00000624 55                              	PUSH	EBP
   713 00000625 89 E5                           	MOV	EBP,ESP
   714 00000627 53                              	PUSH	EBX
   715 00000628 83 EC 40                        	SUB	ESP,64
   716 0000062B 68 003C0000                     	PUSH	3932160
   717 00000630 E8 [00000000]                   	CALL	_memman_total
   718 00000635 BA 00100000                     	MOV	EDX,1048576
   719 0000063A C1 E8 0A                        	SHR	EAX,10
   720 0000063D 89 D3                           	MOV	EBX,EDX
   721 0000063F 89 04 24                        	MOV	DWORD [ESP],EAX
   722 00000642 8B 45 0C                        	MOV	EAX,DWORD [12+EBP]
   723 00000645 99                              	CDQ
   724 00000646 F7 FB                           	IDIV	EBX
   725 00000648 50                              	PUSH	EAX
   726 00000649 8D 5D BC                        	LEA	EBX,DWORD [-68+EBP]
   727 0000064C 68 [00000034]                   	PUSH	LC9
   728 00000651 53                              	PUSH	EBX
   729 00000652 E8 [00000000]                   	CALL	_sprintf
   730 00000657 53                              	PUSH	EBX
   731 00000658 FF 75 08                        	PUSH	DWORD [8+EBP]
   732 0000065B E8 FFFFFDC7                     	CALL	_cons_putstr0
   733 00000660 8B 5D FC                        	MOV	EBX,DWORD [-4+EBP]
   734 00000663 C9                              	LEAVE
   735 00000664 C3                              	RET
   736 00000665                                 	GLOBAL	_cmd_cls
   737 00000665                                 _cmd_cls:
   738 00000665 55                              	PUSH	EBP
   739 00000666 89 E5                           	MOV	EBP,ESP
   740 00000668 57                              	PUSH	EDI
   741 00000669 56                              	PUSH	ESI
   742 0000066A BE 0000001C                     	MOV	ESI,28
   743 0000066F 8B 7D 08                        	MOV	EDI,DWORD [8+EBP]
   744 00000672 53                              	PUSH	EBX
   745 00000673 8B 1F                           	MOV	EBX,DWORD [EDI]
   746 00000675                                 L140:
   747 00000675 B9 00000008                     	MOV	ECX,8
   748 0000067A                                 L139:
   749 0000067A 89 F0                           	MOV	EAX,ESI
   750 0000067C 8B 13                           	MOV	EDX,DWORD [EBX]
   751 0000067E 0F AF 43 04                     	IMUL	EAX,DWORD [4+EBX]
   752 00000682 8D 04 08                        	LEA	EAX,DWORD [EAX+ECX*1]
   753 00000685 41                              	INC	ECX
   754 00000686 81 F9 000000F7                  	CMP	ECX,247
   755 0000068C C6 04 10 00                     	MOV	BYTE [EAX+EDX*1],0
   756 00000690 7E E8                           	JLE	L139
   757 00000692 46                              	INC	ESI
   758 00000693 81 FE 0000009B                  	CMP	ESI,155
   759 00000699 7E DA                           	JLE	L140
   760 0000069B 68 0000009C                     	PUSH	156
   761 000006A0 68 000000F8                     	PUSH	248
   762 000006A5 6A 1C                           	PUSH	28
   763 000006A7 6A 08                           	PUSH	8
   764 000006A9 53                              	PUSH	EBX
   765 000006AA E8 [00000000]                   	CALL	_sheet_refresh
   766 000006AF C7 47 08 0000001C               	MOV	DWORD [8+EDI],28
   767 000006B6 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   768 000006B9 5B                              	POP	EBX
   769 000006BA 5E                              	POP	ESI
   770 000006BB 5F                              	POP	EDI
   771 000006BC 5D                              	POP	EBP
   772 000006BD C3                              	RET
   773                                          [SECTION .data]
   774 0000004D                                 LC10:
   775 0000004D 66 69 6C 65 6E 61 6D 65 2E 65   	DB	"filename.ext   %7d",0x0A,0x00
       00000057 78 74 20 20 20 25 37 64 0A 00 
   776                                          [SECTION .text]
   777 000006BE                                 	GLOBAL	_cmd_dir
   778 000006BE                                 _cmd_dir:
   779 000006BE 55                              	PUSH	EBP
   780 000006BF 89 E5                           	MOV	EBP,ESP
   781 000006C1 57                              	PUSH	EDI
   782 000006C2 56                              	PUSH	ESI
   783 000006C3 31 F6                           	XOR	ESI,ESI
   784 000006C5 53                              	PUSH	EBX
   785 000006C6 31 DB                           	XOR	EBX,EBX
   786 000006C8 83 EC 20                        	SUB	ESP,32
   787 000006CB 8B 7D 08                        	MOV	EDI,DWORD [8+EBP]
   788 000006CE                                 L158:
   789 000006CE 8A 83 00102600                  	MOV	AL,BYTE [1058304+EBX]
   790 000006D4 84 C0                           	TEST	AL,AL
   791 000006D6 74 19                           	JE	L147
   792 000006D8 3C E5                           	CMP	AL,-27
   793 000006DA 74 09                           	JE	L148
   794 000006DC F6 83 0010260B 18               	TEST	BYTE [1058315+EBX],24
   795 000006E3 74 1A                           	JE	L162
   796 000006E5                                 L148:
   797 000006E5 46                              	INC	ESI
   798 000006E6 83 C3 20                        	ADD	EBX,32
   799 000006E9 81 FE 000000DF                  	CMP	ESI,223
   800 000006EF 7E DD                           	JLE	L158
   801 000006F1                                 L147:
   802 000006F1 57                              	PUSH	EDI
   803 000006F2 E8 FFFFFC6F                     	CALL	_cons_newline
   804 000006F7 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   805 000006FA 5B                              	POP	EBX
   806 000006FB 5E                              	POP	ESI
   807 000006FC 5F                              	POP	EDI
   808 000006FD 5D                              	POP	EBP
   809 000006FE C3                              	RET
   810 000006FF                                 L162:
   811 000006FF FF B3 0010261C                  	PUSH	DWORD [1058332+EBX]
   812 00000705 68 [0000004D]                   	PUSH	LC10
   813 0000070A 8D 45 D4                        	LEA	EAX,DWORD [-44+EBP]
   814 0000070D 50                              	PUSH	EAX
   815 0000070E E8 [00000000]                   	CALL	_sprintf
   816 00000713 8D 93 00102600                  	LEA	EDX,DWORD [1058304+EBX]
   817 00000719 31 C9                           	XOR	ECX,ECX
   818 0000071B 83 C4 0C                        	ADD	ESP,12
   819 0000071E                                 L157:
   820 0000071E 8A 02                           	MOV	AL,BYTE [EDX]
   821 00000720 42                              	INC	EDX
   822 00000721 88 44 0D D4                     	MOV	BYTE [-44+EBP+ECX*1],AL
   823 00000725 41                              	INC	ECX
   824 00000726 83 F9 07                        	CMP	ECX,7
   825 00000729 7E F3                           	JLE	L157
   826 0000072B 8A 83 00102608                  	MOV	AL,BYTE [1058312+EBX]
   827 00000731 88 45 DD                        	MOV	BYTE [-35+EBP],AL
   828 00000734 8A 83 00102609                  	MOV	AL,BYTE [1058313+EBX]
   829 0000073A 88 45 DE                        	MOV	BYTE [-34+EBP],AL
   830 0000073D 8A 83 0010260A                  	MOV	AL,BYTE [1058314+EBX]
   831 00000743 88 45 DF                        	MOV	BYTE [-33+EBP],AL
   832 00000746 8D 45 D4                        	LEA	EAX,DWORD [-44+EBP]
   833 00000749 50                              	PUSH	EAX
   834 0000074A 57                              	PUSH	EDI
   835 0000074B E8 FFFFFCD7                     	CALL	_cons_putstr0
   836 00000750 58                              	POP	EAX
   837 00000751 5A                              	POP	EDX
   838 00000752 EB 91                           	JMP	L148
   839                                          [SECTION .data]
   840 00000061                                 LC11:
   841 00000061 46 69 6C 65 20 6E 6F 74 20 66   	DB	"File not found.",0x0A,0x00
       0000006B 6F 75 6E 64 2E 0A 00 
   842                                          [SECTION .text]
   843 00000754                                 	GLOBAL	_cmd_type
   844 00000754                                 _cmd_type:
   845 00000754 55                              	PUSH	EBP
   846 00000755 89 E5                           	MOV	EBP,ESP
   847 00000757 57                              	PUSH	EDI
   848 00000758 56                              	PUSH	ESI
   849 00000759 53                              	PUSH	EBX
   850 0000075A 56                              	PUSH	ESI
   851 0000075B 8B 45 0C                        	MOV	EAX,DWORD [12+EBP]
   852 0000075E 8B 7D 08                        	MOV	EDI,DWORD [8+EBP]
   853 00000761 89 45 F0                        	MOV	DWORD [-16+EBP],EAX
   854 00000764 68 000000E0                     	PUSH	224
   855 00000769 68 00102600                     	PUSH	1058304
   856 0000076E 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   857 00000771 83 C0 05                        	ADD	EAX,5
   858 00000774 50                              	PUSH	EAX
   859 00000775 E8 [00000000]                   	CALL	_file_search
   860 0000077A 83 C4 0C                        	ADD	ESP,12
   861 0000077D 89 C6                           	MOV	ESI,EAX
   862 0000077F 85 C0                           	TEST	EAX,EAX
   863 00000781 74 52                           	JE	L164
   864 00000783 FF 70 1C                        	PUSH	DWORD [28+EAX]
   865 00000786 68 003C0000                     	PUSH	3932160
   866 0000078B E8 [00000000]                   	CALL	_memman_alloc_4k
   867 00000790 68 00103E00                     	PUSH	1064448
   868 00000795 FF 75 F0                        	PUSH	DWORD [-16+EBP]
   869 00000798 50                              	PUSH	EAX
   870 00000799 89 C3                           	MOV	EBX,EAX
   871 0000079B FF 76 1C                        	PUSH	DWORD [28+ESI]
   872 0000079E 0F B7 46 1A                     	MOVZX	EAX,WORD [26+ESI]
   873 000007A2 50                              	PUSH	EAX
   874 000007A3 E8 [00000000]                   	CALL	_file_loadfile
   875 000007A8 FF 76 1C                        	PUSH	DWORD [28+ESI]
   876 000007AB 53                              	PUSH	EBX
   877 000007AC 57                              	PUSH	EDI
   878 000007AD E8 FFFFFCA3                     	CALL	_cons_putstr1
   879 000007B2 83 C4 28                        	ADD	ESP,40
   880 000007B5 FF 76 1C                        	PUSH	DWORD [28+ESI]
   881 000007B8 53                              	PUSH	EBX
   882 000007B9 68 003C0000                     	PUSH	3932160
   883 000007BE E8 [00000000]                   	CALL	_memman_free_4k
   884 000007C3 83 C4 0C                        	ADD	ESP,12
   885 000007C6                                 L165:
   886 000007C6 89 7D 08                        	MOV	DWORD [8+EBP],EDI
   887 000007C9 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   888 000007CC 5B                              	POP	EBX
   889 000007CD 5E                              	POP	ESI
   890 000007CE 5F                              	POP	EDI
   891 000007CF 5D                              	POP	EBP
   892 000007D0 E9 FFFFFB91                     	JMP	_cons_newline
   893 000007D5                                 L164:
   894 000007D5 68 [00000061]                   	PUSH	LC11
   895 000007DA 57                              	PUSH	EDI
   896 000007DB E8 FFFFFC47                     	CALL	_cons_putstr0
   897 000007E0 59                              	POP	ECX
   898 000007E1 5B                              	POP	EBX
   899 000007E2 EB E2                           	JMP	L165
   900 000007E4                                 	GLOBAL	_cmd_exit
   901 000007E4                                 _cmd_exit:
   902 000007E4 55                              	PUSH	EBP
   903 000007E5 89 E5                           	MOV	EBP,ESP
   904 000007E7 57                              	PUSH	EDI
   905 000007E8 56                              	PUSH	ESI
   906 000007E9 53                              	PUSH	EBX
   907 000007EA 53                              	PUSH	EBX
   908 000007EB 8B 5D 08                        	MOV	EBX,DWORD [8+EBP]
   909 000007EE E8 [00000000]                   	CALL	_task_now
   910 000007F3 8B 35 00000FE4                  	MOV	ESI,DWORD [4068]
   911 000007F9 8B 3D 00000FEC                  	MOV	EDI,DWORD [4076]
   912 000007FF 89 45 F0                        	MOV	DWORD [-16+EBP],EAX
   913 00000802 83 3B 00                        	CMP	DWORD [EBX],0
   914 00000805 74 09                           	JE	L167
   915 00000807 FF 73 10                        	PUSH	DWORD [16+EBX]
   916 0000080A E8 [00000000]                   	CALL	_timer_cancel
   917 0000080F 59                              	POP	ECX
   918 00000810                                 L167:
   919 00000810 68 00002D00                     	PUSH	11520
   920 00000815 FF 75 0C                        	PUSH	DWORD [12+EBP]
   921 00000818 68 003C0000                     	PUSH	3932160
   922 0000081D E8 [00000000]                   	CALL	_memman_free_4k
   923 00000822 E8 [00000000]                   	CALL	_io_cli
   924 00000827 8B 03                           	MOV	EAX,DWORD [EBX]
   925 00000829 83 C4 0C                        	ADD	ESP,12
   926 0000082C 85 C0                           	TEST	EAX,EAX
   927 0000082E 74 2E                           	JE	L168
   928 00000830 29 F0                           	SUB	EAX,ESI
   929 00000832 2D 00000414                     	SUB	EAX,1044
   930 00000837 C1 F8 03                        	SAR	EAX,3
   931 0000083A 69 C0 CCCCCCCD                  	IMUL	EAX,EAX,-858993459
   932 00000840 05 00000300                     	ADD	EAX,768
   933 00000845                                 L173:
   934 00000845 50                              	PUSH	EAX
   935 00000846 57                              	PUSH	EDI
   936 00000847 E8 [00000000]                   	CALL	_fifo32_put
   937 0000084C 58                              	POP	EAX
   938 0000084D 5A                              	POP	EDX
   939 0000084E E8 [00000000]                   	CALL	_io_sti
   940 00000853                                 L170:
   941 00000853 FF 75 F0                        	PUSH	DWORD [-16+EBP]
   942 00000856 E8 [00000000]                   	CALL	_task_sleep
   943 0000085B 5F                              	POP	EDI
   944 0000085C EB F5                           	JMP	L170
   945 0000085E                                 L168:
   946 0000085E 8B 45 F0                        	MOV	EAX,DWORD [-16+EBP]
   947 00000861 2B 05 [00000000]                	SUB	EAX,DWORD [_taskctl]
   948 00000867 2D 00000FF8                     	SUB	EAX,4088
   949 0000086C C1 F8 05                        	SAR	EAX,5
   950 0000086F 69 C0 CCCCCCCD                  	IMUL	EAX,EAX,-858993459
   951 00000875 05 00000400                     	ADD	EAX,1024
   952 0000087A EB C9                           	JMP	L173
   953 0000087C                                 	GLOBAL	_cmd_start
   954 0000087C                                 _cmd_start:
   955 0000087C 55                              	PUSH	EBP
   956 0000087D 89 E5                           	MOV	EBP,ESP
   957 0000087F 57                              	PUSH	EDI
   958 00000880 56                              	PUSH	ESI
   959 00000881 53                              	PUSH	EBX
   960 00000882 51                              	PUSH	ECX
   961 00000883 51                              	PUSH	ECX
   962 00000884 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
   963 00000887 8B 7D 0C                        	MOV	EDI,DWORD [12+EBP]
   964 0000088A 8B 35 00000FE4                  	MOV	ESI,DWORD [4068]
   965 00000890 89 45 F0                        	MOV	DWORD [-16+EBP],EAX
   966 00000893 FF 75 10                        	PUSH	DWORD [16+EBP]
   967 00000896 56                              	PUSH	ESI
   968 00000897 E8 [00000000]                   	CALL	_open_console
   969 0000089C 89 C3                           	MOV	EBX,EAX
   970 0000089E 8B 40 24                        	MOV	EAX,DWORD [36+EAX]
   971 000008A1 83 C0 10                        	ADD	EAX,16
   972 000008A4 89 45 EC                        	MOV	DWORD [-20+EBP],EAX
   973 000008A7 6A 04                           	PUSH	4
   974 000008A9 6A 20                           	PUSH	32
   975 000008AB 53                              	PUSH	EBX
   976 000008AC E8 [00000000]                   	CALL	_sheet_slide
   977 000008B1 FF 76 10                        	PUSH	DWORD [16+ESI]
   978 000008B4 53                              	PUSH	EBX
   979 000008B5 BB 00000006                     	MOV	EBX,6
   980 000008BA E8 [00000000]                   	CALL	_sheet_updown
   981 000008BF 83 C4 1C                        	ADD	ESP,28
   982 000008C2 80 7F 06 00                     	CMP	BYTE [6+EDI],0
   983 000008C6 75 21                           	JNE	L179
   984 000008C8                                 L181:
   985 000008C8 68 0000010A                     	PUSH	266
   986 000008CD FF 75 EC                        	PUSH	DWORD [-20+EBP]
   987 000008D0 E8 [00000000]                   	CALL	_fifo32_put
   988 000008D5 8B 45 F0                        	MOV	EAX,DWORD [-16+EBP]
   989 000008D8 5E                              	POP	ESI
   990 000008D9 5F                              	POP	EDI
   991 000008DA 89 45 08                        	MOV	DWORD [8+EBP],EAX
   992 000008DD 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   993 000008E0 5B                              	POP	EBX
   994 000008E1 5E                              	POP	ESI
   995 000008E2 5F                              	POP	EDI
   996 000008E3 5D                              	POP	EBP
   997 000008E4 E9 FFFFFA7D                     	JMP	_cons_newline
   998 000008E9                                 L179:
   999 000008E9 0F BE 04 3B                     	MOVSX	EAX,BYTE [EBX+EDI*1]
  1000 000008ED 05 00000100                     	ADD	EAX,256
  1001 000008F2 43                              	INC	EBX
  1002 000008F3 50                              	PUSH	EAX
  1003 000008F4 FF 75 EC                        	PUSH	DWORD [-20+EBP]
  1004 000008F7 E8 [00000000]                   	CALL	_fifo32_put
  1005 000008FC 80 3C 3B 00                     	CMP	BYTE [EBX+EDI*1],0
  1006 00000900 58                              	POP	EAX
  1007 00000901 5A                              	POP	EDX
  1008 00000902 75 E5                           	JNE	L179
  1009 00000904 EB C2                           	JMP	L181
  1010 00000906                                 	GLOBAL	_cmd_ncst
  1011 00000906                                 _cmd_ncst:
  1012 00000906 55                              	PUSH	EBP
  1013 00000907 89 E5                           	MOV	EBP,ESP
  1014 00000909 57                              	PUSH	EDI
  1015 0000090A 56                              	PUSH	ESI
  1016 0000090B BE 00000005                     	MOV	ESI,5
  1017 00000910 53                              	PUSH	EBX
  1018 00000911 50                              	PUSH	EAX
  1019 00000912 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
  1020 00000915 8B 5D 0C                        	MOV	EBX,DWORD [12+EBP]
  1021 00000918 89 45 F0                        	MOV	DWORD [-16+EBP],EAX
  1022 0000091B FF 75 10                        	PUSH	DWORD [16+EBP]
  1023 0000091E 6A 00                           	PUSH	0
  1024 00000920 E8 [00000000]                   	CALL	_open_constask
  1025 00000925 59                              	POP	ECX
  1026 00000926 80 7B 05 00                     	CMP	BYTE [5+EBX],0
  1027 0000092A 8D 78 10                        	LEA	EDI,DWORD [16+EAX]
  1028 0000092D 58                              	POP	EAX
  1029 0000092E 75 1F                           	JNE	L187
  1030 00000930                                 L189:
  1031 00000930 68 0000010A                     	PUSH	266
  1032 00000935 57                              	PUSH	EDI
  1033 00000936 E8 [00000000]                   	CALL	_fifo32_put
  1034 0000093B 8B 45 F0                        	MOV	EAX,DWORD [-16+EBP]
  1035 0000093E 5B                              	POP	EBX
  1036 0000093F 5E                              	POP	ESI
  1037 00000940 89 45 08                        	MOV	DWORD [8+EBP],EAX
  1038 00000943 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
  1039 00000946 5B                              	POP	EBX
  1040 00000947 5E                              	POP	ESI
  1041 00000948 5F                              	POP	EDI
  1042 00000949 5D                              	POP	EBP
  1043 0000094A E9 FFFFFA17                     	JMP	_cons_newline
  1044 0000094F                                 L187:
  1045 0000094F 0F BE 04 1E                     	MOVSX	EAX,BYTE [ESI+EBX*1]
  1046 00000953 05 00000100                     	ADD	EAX,256
  1047 00000958 46                              	INC	ESI
  1048 00000959 50                              	PUSH	EAX
  1049 0000095A 57                              	PUSH	EDI
  1050 0000095B E8 [00000000]                   	CALL	_fifo32_put
  1051 00000960 80 3C 1E 00                     	CMP	BYTE [ESI+EBX*1],0
  1052 00000964 58                              	POP	EAX
  1053 00000965 5A                              	POP	EDX
  1054 00000966 75 E7                           	JNE	L187
  1055 00000968 EB C6                           	JMP	L189
  1056                                          [SECTION .data]
  1057 00000072                                 LC12:
  1058 00000072 48 61 72 69 00                  	DB	"Hari",0x00
  1059 00000077                                 LC13:
  1060 00000077 2E 68 72 62 20 66 69 6C 65 20   	DB	".hrb file format error.",0x0A,0x00
       00000081 66 6F 72 6D 61 74 20 65 72 72 
       0000008B 6F 72 2E 0A 00 
  1061                                          [SECTION .text]
  1062 0000096A                                 	GLOBAL	_cmd_app
  1063 0000096A                                 _cmd_app:
  1064 0000096A 55                              	PUSH	EBP
  1065 0000096B 89 E5                           	MOV	EBP,ESP
  1066 0000096D 57                              	PUSH	EDI
  1067 0000096E 56                              	PUSH	ESI
  1068 0000096F 53                              	PUSH	EBX
  1069 00000970 31 DB                           	XOR	EBX,EBX
  1070 00000972 83 EC 3C                        	SUB	ESP,60
  1071 00000975 8B 75 10                        	MOV	ESI,DWORD [16+EBP]
  1072 00000978 E8 [00000000]                   	CALL	_task_now
  1073 0000097D 89 45 C8                        	MOV	DWORD [-56+EBP],EAX
  1074 00000980                                 L196:
  1075 00000980 8A 04 33                        	MOV	AL,BYTE [EBX+ESI*1]
  1076 00000983 3C 20                           	CMP	AL,32
  1077 00000985 7E 0A                           	JLE	L192
  1078 00000987 88 44 1D D4                     	MOV	BYTE [-44+EBP+EBX*1],AL
  1079 0000098B 43                              	INC	EBX
  1080 0000098C 83 FB 0C                        	CMP	EBX,12
  1081 0000098F 7E EF                           	JLE	L196
  1082 00000991                                 L192:
  1083 00000991 68 000000E0                     	PUSH	224
  1084 00000996 8D 75 D4                        	LEA	ESI,DWORD [-44+EBP]
  1085 00000999 68 00102600                     	PUSH	1058304
  1086 0000099E 56                              	PUSH	ESI
  1087 0000099F C6 44 1D D4 00                  	MOV	BYTE [-44+EBP+EBX*1],0
  1088 000009A4 E8 [00000000]                   	CALL	_file_search
  1089 000009A9 83 C4 0C                        	ADD	ESP,12
  1090 000009AC 85 C0                           	TEST	EAX,EAX
  1091 000009AE 89 45 D0                        	MOV	DWORD [-48+EBP],EAX
  1092 000009B1 0F 84 0000019E                  	JE	L218
  1093 000009B7                                 L217:
  1094 000009B7 8B 45 D0                        	MOV	EAX,DWORD [-48+EBP]
  1095 000009BA FF 70 1C                        	PUSH	DWORD [28+EAX]
  1096 000009BD 68 003C0000                     	PUSH	3932160
  1097 000009C2 E8 [00000000]                   	CALL	_memman_alloc_4k
  1098 000009C7 8B 55 D0                        	MOV	EDX,DWORD [-48+EBP]
  1099 000009CA 68 00103E00                     	PUSH	1064448
  1100 000009CF FF 75 0C                        	PUSH	DWORD [12+EBP]
  1101 000009D2 50                              	PUSH	EAX
  1102 000009D3 89 45 B8                        	MOV	DWORD [-72+EBP],EAX
  1103 000009D6 FF 72 1C                        	PUSH	DWORD [28+EDX]
  1104 000009D9 0F B7 42 1A                     	MOVZX	EAX,WORD [26+EDX]
  1105 000009DD 50                              	PUSH	EAX
  1106 000009DE E8 [00000000]                   	CALL	_file_loadfile
  1107 000009E3 8B 7D D0                        	MOV	EDI,DWORD [-48+EBP]
  1108 000009E6 83 C4 1C                        	ADD	ESP,28
  1109 000009E9 83 7F 1C 23                     	CMP	DWORD [28+EDI],35
  1110 000009ED 76 1F                           	JBE	L199
  1111 000009EF 8B 75 B8                        	MOV	ESI,DWORD [-72+EBP]
  1112 000009F2 B8 [00000072]                   	MOV	EAX,LC12
  1113 000009F7 FC                              	CLD
  1114 000009F8 83 C6 04                        	ADD	ESI,4
  1115 000009FB B9 00000004                     	MOV	ECX,4
  1116 00000A00 89 C7                           	MOV	EDI,EAX
  1117 00000A02 F3                              	REPE
  1118 00000A03 A6                              	CMPSB
  1119 00000A04 75 08                           	JNE	L199
  1120 00000A06 8B 45 B8                        	MOV	EAX,DWORD [-72+EBP]
  1121 00000A09 80 38 00                        	CMP	BYTE [EAX],0
  1122 00000A0C 74 37                           	JE	L219
  1123 00000A0E                                 L199:
  1124 00000A0E 68 [00000077]                   	PUSH	LC13
  1125 00000A13 FF 75 08                        	PUSH	DWORD [8+EBP]
  1126 00000A16 E8 FFFFFA0C                     	CALL	_cons_putstr0
  1127 00000A1B 58                              	POP	EAX
  1128 00000A1C 5A                              	POP	EDX
  1129 00000A1D                                 L211:
  1130 00000A1D 8B 55 D0                        	MOV	EDX,DWORD [-48+EBP]
  1131 00000A20 FF 72 1C                        	PUSH	DWORD [28+EDX]
  1132 00000A23 FF 75 B8                        	PUSH	DWORD [-72+EBP]
  1133 00000A26 68 003C0000                     	PUSH	3932160
  1134 00000A2B E8 [00000000]                   	CALL	_memman_free_4k
  1135 00000A30 FF 75 08                        	PUSH	DWORD [8+EBP]
  1136 00000A33 E8 FFFFF92E                     	CALL	_cons_newline
  1137 00000A38 B8 00000001                     	MOV	EAX,1
  1138 00000A3D                                 L190:
  1139 00000A3D 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
  1140 00000A40 5B                              	POP	EBX
  1141 00000A41 5E                              	POP	ESI
  1142 00000A42 5F                              	POP	EDI
  1143 00000A43 5D                              	POP	EBP
  1144 00000A44 C3                              	RET
  1145 00000A45                                 L219:
  1146 00000A45 8B 10                           	MOV	EDX,DWORD [EAX]
  1147 00000A47 8B 78 0C                        	MOV	EDI,DWORD [12+EAX]
  1148 00000A4A 8B 70 10                        	MOV	ESI,DWORD [16+EAX]
  1149 00000A4D 89 55 C4                        	MOV	DWORD [-60+EBP],EDX
  1150 00000A50 8B 40 14                        	MOV	EAX,DWORD [20+EAX]
  1151 00000A53 89 7D C0                        	MOV	DWORD [-64+EBP],EDI
  1152 00000A56 52                              	PUSH	EDX
  1153 00000A57 89 45 BC                        	MOV	DWORD [-68+EBP],EAX
  1154 00000A5A 68 003C0000                     	PUSH	3932160
  1155 00000A5F BB 00000008                     	MOV	EBX,8
  1156 00000A64 E8 [00000000]                   	CALL	_memman_alloc_4k
  1157 00000A69 8B 7D D0                        	MOV	EDI,DWORD [-48+EBP]
  1158 00000A6C 8B 55 C8                        	MOV	EDX,DWORD [-56+EBP]
  1159 00000A6F 89 45 CC                        	MOV	DWORD [-52+EBP],EAX
  1160 00000A72 89 82 00000098                  	MOV	DWORD [152+EDX],EAX
  1161 00000A78 68 000040FA                     	PUSH	16634
  1162 00000A7D FF 75 B8                        	PUSH	DWORD [-72+EBP]
  1163 00000A80 8B 47 1C                        	MOV	EAX,DWORD [28+EDI]
  1164 00000A83 48                              	DEC	EAX
  1165 00000A84 50                              	PUSH	EAX
  1166 00000A85 8B 02                           	MOV	EAX,DWORD [EDX]
  1167 00000A87 99                              	CDQ
  1168 00000A88 F7 FB                           	IDIV	EBX
  1169 00000A8A 8D 04 C5 00271F40               	LEA	EAX,DWORD [2563904+EAX*8]
  1170 00000A91 50                              	PUSH	EAX
  1171 00000A92 E8 [00000000]                   	CALL	_set_segmdesc
  1172 00000A97 8B 55 C8                        	MOV	EDX,DWORD [-56+EBP]
  1173 00000A9A 68 000040F2                     	PUSH	16626
  1174 00000A9F 8B 45 C4                        	MOV	EAX,DWORD [-60+EBP]
  1175 00000AA2 FF 75 CC                        	PUSH	DWORD [-52+EBP]
  1176 00000AA5 48                              	DEC	EAX
  1177 00000AA6 50                              	PUSH	EAX
  1178 00000AA7 8B 02                           	MOV	EAX,DWORD [EDX]
  1179 00000AA9 99                              	CDQ
  1180 00000AAA F7 FB                           	IDIV	EBX
  1181 00000AAC 8D 04 C5 00273E80               	LEA	EAX,DWORD [2571904+EAX*8]
  1182 00000AB3 50                              	PUSH	EAX
  1183 00000AB4 E8 [00000000]                   	CALL	_set_segmdesc
  1184 00000AB9 83 C4 28                        	ADD	ESP,40
  1185 00000ABC 85 F6                           	TEST	ESI,ESI
  1186 00000ABE 7E 17                           	JLE	L214
  1187 00000AC0 8B 4D C0                        	MOV	ECX,DWORD [-64+EBP]
  1188 00000AC3 8B 55 BC                        	MOV	EDX,DWORD [-68+EBP]
  1189 00000AC6 03 4D CC                        	ADD	ECX,DWORD [-52+EBP]
  1190 00000AC9 03 55 B8                        	ADD	EDX,DWORD [-72+EBP]
  1191 00000ACC 89 F3                           	MOV	EBX,ESI
  1192 00000ACE                                 L204:
  1193 00000ACE 8A 02                           	MOV	AL,BYTE [EDX]
  1194 00000AD0 42                              	INC	EDX
  1195 00000AD1 88 01                           	MOV	BYTE [ECX],AL
  1196 00000AD3 41                              	INC	ECX
  1197 00000AD4 4B                              	DEC	EBX
  1198 00000AD5 75 F7                           	JNE	L204
  1199 00000AD7                                 L214:
  1200 00000AD7 8B 45 C8                        	MOV	EAX,DWORD [-56+EBP]
  1201 00000ADA 8B 7D C8                        	MOV	EDI,DWORD [-56+EBP]
  1202 00000ADD 83 C0 30                        	ADD	EAX,48
  1203 00000AE0 BB 000000FF                     	MOV	EBX,255
  1204 00000AE5 50                              	PUSH	EAX
  1205 00000AE6 8B 07                           	MOV	EAX,DWORD [EDI]
  1206 00000AE8 05 00003E80                     	ADD	EAX,16000
  1207 00000AED 50                              	PUSH	EAX
  1208 00000AEE FF 75 C0                        	PUSH	DWORD [-64+EBP]
  1209 00000AF1 8B 07                           	MOV	EAX,DWORD [EDI]
  1210 00000AF3 05 00001F40                     	ADD	EAX,8000
  1211 00000AF8 50                              	PUSH	EAX
  1212 00000AF9 6A 1B                           	PUSH	27
  1213 00000AFB E8 [00000000]                   	CALL	_start_app
  1214 00000B00 8B 35 00000FE4                  	MOV	ESI,DWORD [4068]
  1215 00000B06 83 C4 14                        	ADD	ESP,20
  1216 00000B09 81 C6 00000414                  	ADD	ESI,1044
  1217 00000B0F                                 L210:
  1218 00000B0F 8B 46 1C                        	MOV	EAX,DWORD [28+ESI]
  1219 00000B12 83 E0 11                        	AND	EAX,17
  1220 00000B15 83 F8 11                        	CMP	EAX,17
  1221 00000B18 74 2A                           	JE	L220
  1222 00000B1A                                 L207:
  1223 00000B1A 83 C6 28                        	ADD	ESI,40
  1224 00000B1D 4B                              	DEC	EBX
  1225 00000B1E 79 EF                           	JNS	L210
  1226 00000B20 8B 45 C8                        	MOV	EAX,DWORD [-56+EBP]
  1227 00000B23 83 C0 10                        	ADD	EAX,16
  1228 00000B26 50                              	PUSH	EAX
  1229 00000B27 E8 [00000000]                   	CALL	_timer_cancelall
  1230 00000B2C FF 75 C4                        	PUSH	DWORD [-60+EBP]
  1231 00000B2F FF 75 CC                        	PUSH	DWORD [-52+EBP]
  1232 00000B32 68 003C0000                     	PUSH	3932160
  1233 00000B37 E8 [00000000]                   	CALL	_memman_free_4k
  1234 00000B3C 83 C4 10                        	ADD	ESP,16
  1235 00000B3F E9 FFFFFED9                     	JMP	L211
  1236 00000B44                                 L220:
  1237 00000B44 8B 45 C8                        	MOV	EAX,DWORD [-56+EBP]
  1238 00000B47 39 46 24                        	CMP	DWORD [36+ESI],EAX
  1239 00000B4A 75 CE                           	JNE	L207
  1240 00000B4C 56                              	PUSH	ESI
  1241 00000B4D E8 [00000000]                   	CALL	_sheet_free
  1242 00000B52 59                              	POP	ECX
  1243 00000B53 EB C5                           	JMP	L207
  1244 00000B55                                 L218:
  1245 00000B55 80 7C 1D D3 2E                  	CMP	BYTE [-45+EBP+EBX*1],46
  1246 00000B5A 74 2F                           	JE	L197
  1247 00000B5C 68 000000E0                     	PUSH	224
  1248 00000B61 68 00102600                     	PUSH	1058304
  1249 00000B66 56                              	PUSH	ESI
  1250 00000B67 C6 44 1D D4 2E                  	MOV	BYTE [-44+EBP+EBX*1],46
  1251 00000B6C C6 44 1D D5 48                  	MOV	BYTE [-43+EBP+EBX*1],72
  1252 00000B71 C6 44 1D D6 52                  	MOV	BYTE [-42+EBP+EBX*1],82
  1253 00000B76 C6 44 1D D7 42                  	MOV	BYTE [-41+EBP+EBX*1],66
  1254 00000B7B C6 44 1D D8 00                  	MOV	BYTE [-40+EBP+EBX*1],0
  1255 00000B80 E8 [00000000]                   	CALL	_file_search
  1256 00000B85 83 C4 0C                        	ADD	ESP,12
  1257 00000B88 89 45 D0                        	MOV	DWORD [-48+EBP],EAX
  1258 00000B8B                                 L197:
  1259 00000B8B 83 7D D0 00                     	CMP	DWORD [-48+EBP],0
  1260 00000B8F 0F 85 FFFFFE22                  	JNE	L217
  1261 00000B95 31 C0                           	XOR	EAX,EAX
  1262 00000B97 E9 FFFFFEA1                     	JMP	L190
  1263 00000B9C                                 	GLOBAL	_hrb_api
  1264 00000B9C                                 _hrb_api:
  1265 00000B9C 55                              	PUSH	EBP
  1266 00000B9D 89 E5                           	MOV	EBP,ESP
  1267 00000B9F 57                              	PUSH	EDI
  1268 00000BA0 56                              	PUSH	ESI
  1269 00000BA1 53                              	PUSH	EBX
  1270 00000BA2 83 EC 10                        	SUB	ESP,16
  1271 00000BA5 8B 5D 1C                        	MOV	EBX,DWORD [28+EBP]
  1272 00000BA8 E8 [00000000]                   	CALL	_task_now
  1273 00000BAD 8B 15 00000FEC                  	MOV	EDX,DWORD [4076]
  1274 00000BB3 83 FB 01                        	CMP	EBX,1
  1275 00000BB6 89 45 F0                        	MOV	DWORD [-16+EBP],EAX
  1276 00000BB9 8B B8 00000098                  	MOV	EDI,DWORD [152+EAX]
  1277 00000BBF 8B B0 00000094                  	MOV	ESI,DWORD [148+EAX]
  1278 00000BC5 89 55 E8                        	MOV	DWORD [-24+EBP],EDX
  1279 00000BC8 A1 00000FE4                     	MOV	EAX,DWORD [4068]
  1280 00000BCD 89 45 EC                        	MOV	DWORD [-20+EBP],EAX
  1281 00000BD0 0F 84 00000461                  	JE	L288
  1282 00000BD6 83 FB 02                        	CMP	EBX,2
  1283 00000BD9 0F 84 00000447                  	JE	L289
  1284 00000BDF 83 FB 03                        	CMP	EBX,3
  1285 00000BE2 0F 84 0000042A                  	JE	L290
  1286 00000BE8 83 FB 04                        	CMP	EBX,4
  1287 00000BEB 0F 84 00000416                  	JE	L291
  1288 00000BF1 83 FB 05                        	CMP	EBX,5
  1289 00000BF4 0F 84 00000391                  	JE	L292
  1290 00000BFA 83 FB 06                        	CMP	EBX,6
  1291 00000BFD 0F 84 00000340                  	JE	L293
  1292 00000C03 83 FB 07                        	CMP	EBX,7
  1293 00000C06 0F 84 0000030E                  	JE	L294
  1294 00000C0C 83 FB 08                        	CMP	EBX,8
  1295 00000C0F 0F 84 000002E2                  	JE	L295
  1296 00000C15 83 FB 09                        	CMP	EBX,9
  1297 00000C18 0F 84 000002BC                  	JE	L296
  1298 00000C1E 83 FB 0A                        	CMP	EBX,10
  1299 00000C21 0F 84 00000296                  	JE	L297
  1300 00000C27 83 FB 0B                        	CMP	EBX,11
  1301 00000C2A 0F 84 00000259                  	JE	L298
  1302 00000C30 83 FB 0C                        	CMP	EBX,12
  1303 00000C33 0F 84 0000023F                  	JE	L299
  1304 00000C39 83 FB 0D                        	CMP	EBX,13
  1305 00000C3C 0F 84 000001ED                  	JE	L300
  1306 00000C42 83 FB 0E                        	CMP	EBX,14
  1307 00000C45 0F 84 000001D7                  	JE	L301
  1308 00000C4B 83 FB 0F                        	CMP	EBX,15
  1309 00000C4E 0F 84 000000E9                  	JE	L255
  1310 00000C54 83 FB 10                        	CMP	EBX,16
  1311 00000C57 0F 84 000000CF                  	JE	L302
  1312 00000C5D 83 FB 11                        	CMP	EBX,17
  1313 00000C60 0F 84 000000A9                  	JE	L303
  1314 00000C66 83 FB 12                        	CMP	EBX,18
  1315 00000C69 0F 84 0000008E                  	JE	L304
  1316 00000C6F 83 FB 13                        	CMP	EBX,19
  1317 00000C72 74 7B                           	JE	L305
  1318 00000C74 83 FB 14                        	CMP	EBX,20
  1319 00000C77 74 0A                           	JE	L306
  1320 00000C79                                 L223:
  1321 00000C79 31 C0                           	XOR	EAX,EAX
  1322 00000C7B                                 L221:
  1323 00000C7B 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
  1324 00000C7E 5B                              	POP	EBX
  1325 00000C7F 5E                              	POP	ESI
  1326 00000C80 5F                              	POP	EDI
  1327 00000C81 5D                              	POP	EBP
  1328 00000C82 C3                              	RET
  1329 00000C83                                 L306:
  1330 00000C83 8B 55 24                        	MOV	EDX,DWORD [36+EBP]
  1331 00000C86 85 D2                           	TEST	EDX,EDX
  1332 00000C88 75 19                           	JNE	L277
  1333 00000C8A 6A 61                           	PUSH	97
  1334 00000C8C E8 [00000000]                   	CALL	_io_in8
  1335 00000C91 89 C3                           	MOV	EBX,EAX
  1336 00000C93 83 E3 0D                        	AND	EBX,13
  1337 00000C96 53                              	PUSH	EBX
  1338 00000C97 6A 61                           	PUSH	97
  1339 00000C99 E8 [00000000]                   	CALL	_io_out8
  1340 00000C9E                                 L279:
  1341 00000C9E 83 C4 0C                        	ADD	ESP,12
  1342 00000CA1 EB D6                           	JMP	L223
  1343 00000CA3                                 L277:
  1344 00000CA3 B9 471E7B60                     	MOV	ECX,1193180000
  1345 00000CA8 89 D6                           	MOV	ESI,EDX
  1346 00000CAA 89 C8                           	MOV	EAX,ECX
  1347 00000CAC 68 000000B6                     	PUSH	182
  1348 00000CB1 99                              	CDQ
  1349 00000CB2 F7 FE                           	IDIV	ESI
  1350 00000CB4 6A 43                           	PUSH	67
  1351 00000CB6 89 C3                           	MOV	EBX,EAX
  1352 00000CB8 E8 [00000000]                   	CALL	_io_out8
  1353 00000CBD 0F B6 C3                        	MOVZX	EAX,BL
  1354 00000CC0 C1 FB 08                        	SAR	EBX,8
  1355 00000CC3 50                              	PUSH	EAX
  1356 00000CC4 6A 42                           	PUSH	66
  1357 00000CC6 E8 [00000000]                   	CALL	_io_out8
  1358 00000CCB 53                              	PUSH	EBX
  1359 00000CCC 6A 42                           	PUSH	66
  1360 00000CCE E8 [00000000]                   	CALL	_io_out8
  1361 00000CD3 6A 61                           	PUSH	97
  1362 00000CD5 E8 [00000000]                   	CALL	_io_in8
  1363 00000CDA 89 C3                           	MOV	EBX,EAX
  1364 00000CDC 83 CB 03                        	OR	EBX,3
  1365 00000CDF 83 E3 0F                        	AND	EBX,15
  1366 00000CE2 53                              	PUSH	EBX
  1367 00000CE3 6A 61                           	PUSH	97
  1368 00000CE5 E8 [00000000]                   	CALL	_io_out8
  1369 00000CEA 83 C4 24                        	ADD	ESP,36
  1370 00000CED EB 8A                           	JMP	L223
  1371 00000CEF                                 L305:
  1372 00000CEF FF 75 18                        	PUSH	DWORD [24+EBP]
  1373 00000CF2 E8 [00000000]                   	CALL	_timer_free
  1374 00000CF7                                 L280:
  1375 00000CF7 5B                              	POP	EBX
  1376 00000CF8 E9 FFFFFF7C                     	JMP	L223
  1377 00000CFD                                 L304:
  1378 00000CFD FF 75 24                        	PUSH	DWORD [36+EBP]
  1379 00000D00 FF 75 18                        	PUSH	DWORD [24+EBP]
  1380 00000D03 E8 [00000000]                   	CALL	_timer_settime
  1381 00000D08                                 L282:
  1382 00000D08 5E                              	POP	ESI
  1383 00000D09 5F                              	POP	EDI
  1384 00000D0A E9 FFFFFF6A                     	JMP	L223
  1385 00000D0F                                 L303:
  1386 00000D0F 8B 45 24                        	MOV	EAX,DWORD [36+EBP]
  1387 00000D12 05 00000100                     	ADD	EAX,256
  1388 00000D17 50                              	PUSH	EAX
  1389 00000D18 8B 45 F0                        	MOV	EAX,DWORD [-16+EBP]
  1390 00000D1B 83 C0 10                        	ADD	EAX,16
  1391 00000D1E 50                              	PUSH	EAX
  1392 00000D1F FF 75 18                        	PUSH	DWORD [24+EBP]
  1393 00000D22 E8 [00000000]                   	CALL	_timer_init
  1394 00000D27 E9 FFFFFF72                     	JMP	L279
  1395 00000D2C                                 L302:
  1396 00000D2C E8 [00000000]                   	CALL	_timer_alloc
  1397 00000D31 89 45 44                        	MOV	DWORD [68+EBP],EAX
  1398 00000D34 C6 40 09 01                     	MOV	BYTE [9+EAX],1
  1399 00000D38 E9 FFFFFF3C                     	JMP	L223
  1400 00000D3D                                 L255:
  1401 00000D3D E8 [00000000]                   	CALL	_io_cli
  1402 00000D42 8B 45 F0                        	MOV	EAX,DWORD [-16+EBP]
  1403 00000D45 83 C0 10                        	ADD	EAX,16
  1404 00000D48 50                              	PUSH	EAX
  1405 00000D49 E8 [00000000]                   	CALL	_fifo32_status
  1406 00000D4E 5A                              	POP	EDX
  1407 00000D4F 85 C0                           	TEST	EAX,EAX
  1408 00000D51 75 13                           	JNE	L258
  1409 00000D53 83 7D 24 00                     	CMP	DWORD [36+EBP],0
  1410 00000D57 0F 84 000000B4                  	JE	L259
  1411 00000D5D FF 75 F0                        	PUSH	DWORD [-16+EBP]
  1412 00000D60 E8 [00000000]                   	CALL	_task_sleep
  1413 00000D65 58                              	POP	EAX
  1414 00000D66                                 L258:
  1415 00000D66 8B 7D F0                        	MOV	EDI,DWORD [-16+EBP]
  1416 00000D69 83 C7 10                        	ADD	EDI,16
  1417 00000D6C 57                              	PUSH	EDI
  1418 00000D6D E8 [00000000]                   	CALL	_fifo32_get
  1419 00000D72 89 C3                           	MOV	EBX,EAX
  1420 00000D74 E8 [00000000]                   	CALL	_io_sti
  1421 00000D79 58                              	POP	EAX
  1422 00000D7A 83 FB 01                        	CMP	EBX,1
  1423 00000D7D 7E 75                           	JLE	L307
  1424 00000D7F                                 L261:
  1425 00000D7F 83 FB 02                        	CMP	EBX,2
  1426 00000D82 74 67                           	JE	L308
  1427 00000D84                                 L262:
  1428 00000D84 83 FB 03                        	CMP	EBX,3
  1429 00000D87 74 59                           	JE	L309
  1430 00000D89 83 FB 04                        	CMP	EBX,4
  1431 00000D8C 74 16                           	JE	L310
  1432 00000D8E                                 L264:
  1433 00000D8E 81 FB 000000FF                  	CMP	EBX,255
  1434 00000D94 7E A7                           	JLE	L255
  1435 00000D96 8D 83 FFFFFF00                  	LEA	EAX,DWORD [-256+EBX]
  1436 00000D9C 89 45 44                        	MOV	DWORD [68+EBP],EAX
  1437 00000D9F E9 FFFFFED5                     	JMP	L223
  1438 00000DA4                                 L310:
  1439 00000DA4 FF 76 10                        	PUSH	DWORD [16+ESI]
  1440 00000DA7 E8 [00000000]                   	CALL	_timer_cancel
  1441 00000DAC E8 [00000000]                   	CALL	_io_cli
  1442 00000DB1 8B 06                           	MOV	EAX,DWORD [ESI]
  1443 00000DB3 2B 45 EC                        	SUB	EAX,DWORD [-20+EBP]
  1444 00000DB6 2D 00000414                     	SUB	EAX,1044
  1445 00000DBB C1 F8 03                        	SAR	EAX,3
  1446 00000DBE 69 C0 CCCCCCCD                  	IMUL	EAX,EAX,-858993459
  1447 00000DC4 05 000007E8                     	ADD	EAX,2024
  1448 00000DC9 50                              	PUSH	EAX
  1449 00000DCA FF 75 E8                        	PUSH	DWORD [-24+EBP]
  1450 00000DCD E8 [00000000]                   	CALL	_fifo32_put
  1451 00000DD2 C7 06 00000000                  	MOV	DWORD [ESI],0
  1452 00000DD8 E8 [00000000]                   	CALL	_io_sti
  1453 00000DDD 83 C4 0C                        	ADD	ESP,12
  1454 00000DE0 EB AC                           	JMP	L264
  1455 00000DE2                                 L309:
  1456 00000DE2 C7 46 0C FFFFFFFF               	MOV	DWORD [12+ESI],-1
  1457 00000DE9 EB A3                           	JMP	L264
  1458 00000DEB                                 L308:
  1459 00000DEB C7 46 0C 00000007               	MOV	DWORD [12+ESI],7
  1460 00000DF2 EB 90                           	JMP	L262
  1461 00000DF4                                 L307:
  1462 00000DF4 6A 01                           	PUSH	1
  1463 00000DF6 57                              	PUSH	EDI
  1464 00000DF7 FF 76 10                        	PUSH	DWORD [16+ESI]
  1465 00000DFA E8 [00000000]                   	CALL	_timer_init
  1466 00000DFF 6A 32                           	PUSH	50
  1467 00000E01 FF 76 10                        	PUSH	DWORD [16+ESI]
  1468 00000E04 E8 [00000000]                   	CALL	_timer_settime
  1469 00000E09 83 C4 14                        	ADD	ESP,20
  1470 00000E0C E9 FFFFFF6E                     	JMP	L261
  1471 00000E11                                 L259:
  1472 00000E11 E8 [00000000]                   	CALL	_io_sti
  1473 00000E16 C7 45 44 FFFFFFFF               	MOV	DWORD [68+EBP],-1
  1474 00000E1D E9 FFFFFE57                     	JMP	L223
  1475 00000E22                                 L301:
  1476 00000E22 FF 75 18                        	PUSH	DWORD [24+EBP]
  1477 00000E25 E8 [00000000]                   	CALL	_sheet_free
  1478 00000E2A E9 FFFFFEC8                     	JMP	L280
  1479 00000E2F                                 L300:
  1480 00000E2F FF 75 10                        	PUSH	DWORD [16+EBP]
  1481 00000E32 FF 75 08                        	PUSH	DWORD [8+EBP]
  1482 00000E35 FF 75 0C                        	PUSH	DWORD [12+EBP]
  1483 00000E38 FF 75 20                        	PUSH	DWORD [32+EBP]
  1484 00000E3B 8B 75 18                        	MOV	ESI,DWORD [24+EBP]
  1485 00000E3E FF 75 24                        	PUSH	DWORD [36+EBP]
  1486 00000E41 83 E6 FE                        	AND	ESI,-2
  1487 00000E44 56                              	PUSH	ESI
  1488 00000E45 E8 00000291                     	CALL	_hrb_api_linewin
  1489 00000E4A 83 C4 18                        	ADD	ESP,24
  1490 00000E4D                                 L287:
  1491 00000E4D F7 45 18 00000001               	TEST	DWORD [24+EBP],1
  1492 00000E54 0F 85 FFFFFE1F                  	JNE	L223
  1493 00000E5A 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
  1494 00000E5D 40                              	INC	EAX
  1495 00000E5E 50                              	PUSH	EAX
  1496 00000E5F 8B 45 0C                        	MOV	EAX,DWORD [12+EBP]
  1497 00000E62 40                              	INC	EAX
  1498 00000E63 50                              	PUSH	EAX
  1499 00000E64 FF 75 20                        	PUSH	DWORD [32+EBP]
  1500 00000E67 FF 75 24                        	PUSH	DWORD [36+EBP]
  1501 00000E6A 56                              	PUSH	ESI
  1502 00000E6B                                 L281:
  1503 00000E6B E8 [00000000]                   	CALL	_sheet_refresh
  1504 00000E70                                 L283:
  1505 00000E70 83 C4 14                        	ADD	ESP,20
  1506 00000E73 E9 FFFFFE01                     	JMP	L223
  1507 00000E78                                 L299:
  1508 00000E78 FF 75 08                        	PUSH	DWORD [8+EBP]
  1509 00000E7B FF 75 0C                        	PUSH	DWORD [12+EBP]
  1510 00000E7E FF 75 20                        	PUSH	DWORD [32+EBP]
  1511 00000E81 FF 75 24                        	PUSH	DWORD [36+EBP]
  1512 00000E84                                 L286:
  1513 00000E84 FF 75 18                        	PUSH	DWORD [24+EBP]
  1514 00000E87 EB E2                           	JMP	L281
  1515 00000E89                                 L298:
  1516 00000E89 8B 55 18                        	MOV	EDX,DWORD [24+EBP]
  1517 00000E8C 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
  1518 00000E8F 0F AF 42 04                     	IMUL	EAX,DWORD [4+EDX]
  1519 00000E93 03 45 0C                        	ADD	EAX,DWORD [12+EBP]
  1520 00000E96 8B 0A                           	MOV	ECX,DWORD [EDX]
  1521 00000E98 8A 55 24                        	MOV	DL,BYTE [36+EBP]
  1522 00000E9B 88 14 08                        	MOV	BYTE [EAX+ECX*1],DL
  1523 00000E9E F7 45 18 00000001               	TEST	DWORD [24+EBP],1
  1524 00000EA5 0F 85 FFFFFDCE                  	JNE	L223
  1525 00000EAB 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
  1526 00000EAE 40                              	INC	EAX
  1527 00000EAF 50                              	PUSH	EAX
  1528 00000EB0 8B 45 0C                        	MOV	EAX,DWORD [12+EBP]
  1529 00000EB3 40                              	INC	EAX
  1530 00000EB4 50                              	PUSH	EAX
  1531 00000EB5 FF 75 08                        	PUSH	DWORD [8+EBP]
  1532 00000EB8 FF 75 0C                        	PUSH	DWORD [12+EBP]
  1533 00000EBB EB C7                           	JMP	L286
  1534 00000EBD                                 L297:
  1535 00000EBD 8B 45 20                        	MOV	EAX,DWORD [32+EBP]
  1536 00000EC0 83 C0 0F                        	ADD	EAX,15
  1537 00000EC3 83 E0 F0                        	AND	EAX,-16
  1538 00000EC6 50                              	PUSH	EAX
  1539 00000EC7 8B 45 18                        	MOV	EAX,DWORD [24+EBP]
  1540 00000ECA FF 75 24                        	PUSH	DWORD [36+EBP]
  1541 00000ECD 01 F8                           	ADD	EAX,EDI
  1542 00000ECF 50                              	PUSH	EAX
  1543 00000ED0 E8 [00000000]                   	CALL	_memman_free
  1544 00000ED5 E9 FFFFFDC4                     	JMP	L279
  1545 00000EDA                                 L296:
  1546 00000EDA 8B 45 20                        	MOV	EAX,DWORD [32+EBP]
  1547 00000EDD 83 C0 0F                        	ADD	EAX,15
  1548 00000EE0 83 E0 F0                        	AND	EAX,-16
  1549 00000EE3 50                              	PUSH	EAX
  1550 00000EE4 8B 45 18                        	MOV	EAX,DWORD [24+EBP]
  1551 00000EE7 01 F8                           	ADD	EAX,EDI
  1552 00000EE9 50                              	PUSH	EAX
  1553 00000EEA E8 [00000000]                   	CALL	_memman_alloc
  1554 00000EEF 89 45 44                        	MOV	DWORD [68+EBP],EAX
  1555 00000EF2 E9 FFFFFE11                     	JMP	L282
  1556 00000EF7                                 L295:
  1557 00000EF7 8B 5D 18                        	MOV	EBX,DWORD [24+EBP]
  1558 00000EFA 01 FB                           	ADD	EBX,EDI
  1559 00000EFC 53                              	PUSH	EBX
  1560 00000EFD E8 [00000000]                   	CALL	_memman_init
  1561 00000F02 83 65 20 F0                     	AND	DWORD [32+EBP],-16
  1562 00000F06 FF 75 20                        	PUSH	DWORD [32+EBP]
  1563 00000F09 FF 75 24                        	PUSH	DWORD [36+EBP]
  1564 00000F0C 53                              	PUSH	EBX
  1565 00000F0D E8 [00000000]                   	CALL	_memman_free
  1566 00000F12 83 C4 10                        	ADD	ESP,16
  1567 00000F15 E9 FFFFFD5F                     	JMP	L223
  1568 00000F1A                                 L294:
  1569 00000F1A FF 75 08                        	PUSH	DWORD [8+EBP]
  1570 00000F1D FF 75 0C                        	PUSH	DWORD [12+EBP]
  1571 00000F20 FF 75 20                        	PUSH	DWORD [32+EBP]
  1572 00000F23 8B 75 18                        	MOV	ESI,DWORD [24+EBP]
  1573 00000F26 FF 75 24                        	PUSH	DWORD [36+EBP]
  1574 00000F29 83 E6 FE                        	AND	ESI,-2
  1575 00000F2C 0F B6 45 10                     	MOVZX	EAX,BYTE [16+EBP]
  1576 00000F30 50                              	PUSH	EAX
  1577 00000F31 FF 76 04                        	PUSH	DWORD [4+ESI]
  1578 00000F34 FF 36                           	PUSH	DWORD [ESI]
  1579 00000F36 E8 [00000000]                   	CALL	_boxfill8
  1580 00000F3B 83 C4 1C                        	ADD	ESP,28
  1581 00000F3E E9 FFFFFF0A                     	JMP	L287
  1582 00000F43                                 L293:
  1583 00000F43 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
  1584 00000F46 8B 55 18                        	MOV	EDX,DWORD [24+EBP]
  1585 00000F49 01 F8                           	ADD	EAX,EDI
  1586 00000F4B 50                              	PUSH	EAX
  1587 00000F4C 0F BE 45 24                     	MOVSX	EAX,BYTE [36+EBP]
  1588 00000F50 50                              	PUSH	EAX
  1589 00000F51 FF 75 08                        	PUSH	DWORD [8+EBP]
  1590 00000F54 FF 75 0C                        	PUSH	DWORD [12+EBP]
  1591 00000F57 FF 72 04                        	PUSH	DWORD [4+EDX]
  1592 00000F5A FF 32                           	PUSH	DWORD [EDX]
  1593 00000F5C E8 [00000000]                   	CALL	_putfonts8_asc
  1594 00000F61 83 C4 18                        	ADD	ESP,24
  1595 00000F64 F7 45 18 00000001               	TEST	DWORD [24+EBP],1
  1596 00000F6B 0F 85 FFFFFD08                  	JNE	L223
  1597 00000F71 8B 75 0C                        	MOV	ESI,DWORD [12+EBP]
  1598 00000F74 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
  1599 00000F77 8B 4D 20                        	MOV	ECX,DWORD [32+EBP]
  1600 00000F7A 83 C0 10                        	ADD	EAX,16
  1601 00000F7D 50                              	PUSH	EAX
  1602 00000F7E 8D 04 CE                        	LEA	EAX,DWORD [ESI+ECX*8]
  1603 00000F81 50                              	PUSH	EAX
  1604 00000F82 FF 75 08                        	PUSH	DWORD [8+EBP]
  1605 00000F85 56                              	PUSH	ESI
  1606 00000F86 E9 FFFFFEF9                     	JMP	L286
  1607 00000F8B                                 L292:
  1608 00000F8B FF 75 EC                        	PUSH	DWORD [-20+EBP]
  1609 00000F8E E8 [00000000]                   	CALL	_sheet_alloc
  1610 00000F93 8B 5D 18                        	MOV	EBX,DWORD [24+EBP]
  1611 00000F96 8B 4D F0                        	MOV	ECX,DWORD [-16+EBP]
  1612 00000F99 01 FB                           	ADD	EBX,EDI
  1613 00000F9B 89 48 24                        	MOV	DWORD [36+EAX],ECX
  1614 00000F9E 89 C6                           	MOV	ESI,EAX
  1615 00000FA0 83 48 1C 10                     	OR	DWORD [28+EAX],16
  1616 00000FA4 FF 75 24                        	PUSH	DWORD [36+EBP]
  1617 00000FA7 FF 75 08                        	PUSH	DWORD [8+EBP]
  1618 00000FAA FF 75 0C                        	PUSH	DWORD [12+EBP]
  1619 00000FAD 53                              	PUSH	EBX
  1620 00000FAE 50                              	PUSH	EAX
  1621 00000FAF E8 [00000000]                   	CALL	_sheet_setbuf
  1622 00000FB4 8B 45 20                        	MOV	EAX,DWORD [32+EBP]
  1623 00000FB7 6A 00                           	PUSH	0
  1624 00000FB9 01 F8                           	ADD	EAX,EDI
  1625 00000FBB 50                              	PUSH	EAX
  1626 00000FBC FF 75 08                        	PUSH	DWORD [8+EBP]
  1627 00000FBF FF 75 0C                        	PUSH	DWORD [12+EBP]
  1628 00000FC2 53                              	PUSH	EBX
  1629 00000FC3 BB 00000002                     	MOV	EBX,2
  1630 00000FC8 E8 [00000000]                   	CALL	_make_window8
  1631 00000FCD 8B 4D EC                        	MOV	ECX,DWORD [-20+EBP]
  1632 00000FD0 8B 55 EC                        	MOV	EDX,DWORD [-20+EBP]
  1633 00000FD3 83 C4 2C                        	ADD	ESP,44
  1634 00000FD6 8B 42 0C                        	MOV	EAX,DWORD [12+EDX]
  1635 00000FD9 2B 45 08                        	SUB	EAX,DWORD [8+EBP]
  1636 00000FDC 99                              	CDQ
  1637 00000FDD F7 FB                           	IDIV	EBX
  1638 00000FDF 50                              	PUSH	EAX
  1639 00000FE0 8B 41 08                        	MOV	EAX,DWORD [8+ECX]
  1640 00000FE3 2B 45 0C                        	SUB	EAX,DWORD [12+EBP]
  1641 00000FE6 99                              	CDQ
  1642 00000FE7 F7 FB                           	IDIV	EBX
  1643 00000FE9 83 E0 FC                        	AND	EAX,-4
  1644 00000FEC 50                              	PUSH	EAX
  1645 00000FED 56                              	PUSH	ESI
  1646 00000FEE E8 [00000000]                   	CALL	_sheet_slide
  1647 00000FF3 8B 45 EC                        	MOV	EAX,DWORD [-20+EBP]
  1648 00000FF6 FF 70 10                        	PUSH	DWORD [16+EAX]
  1649 00000FF9 56                              	PUSH	ESI
  1650 00000FFA E8 [00000000]                   	CALL	_sheet_updown
  1651 00000FFF 89 75 44                        	MOV	DWORD [68+EBP],ESI
  1652 00001002 E9 FFFFFE69                     	JMP	L283
  1653 00001007                                 L291:
  1654 00001007 8B 45 F0                        	MOV	EAX,DWORD [-16+EBP]
  1655 0000100A 83 C0 30                        	ADD	EAX,48
  1656 0000100D E9 FFFFFC69                     	JMP	L221
  1657 00001012                                 L290:
  1658 00001012 8B 45 18                        	MOV	EAX,DWORD [24+EBP]
  1659 00001015 FF 75 20                        	PUSH	DWORD [32+EBP]
  1660 00001018 01 F8                           	ADD	EAX,EDI
  1661 0000101A 50                              	PUSH	EAX
  1662 0000101B 56                              	PUSH	ESI
  1663 0000101C E8 FFFFF434                     	CALL	_cons_putstr1
  1664 00001021 E9 FFFFFC78                     	JMP	L279
  1665 00001026                                 L289:
  1666 00001026 8B 45 18                        	MOV	EAX,DWORD [24+EBP]
  1667 00001029 01 F8                           	ADD	EAX,EDI
  1668 0000102B 50                              	PUSH	EAX
  1669 0000102C 56                              	PUSH	ESI
  1670 0000102D E8 FFFFF3F5                     	CALL	_cons_putstr0
  1671 00001032 E9 FFFFFCD1                     	JMP	L282
  1672 00001037                                 L288:
  1673 00001037 6A 01                           	PUSH	1
  1674 00001039 0F B6 45 24                     	MOVZX	EAX,BYTE [36+EBP]
  1675 0000103D 50                              	PUSH	EAX
  1676 0000103E 56                              	PUSH	ESI
  1677 0000103F E8 FFFFF271                     	CALL	_cons_putchar
  1678 00001044 E9 FFFFFC55                     	JMP	L279
  1679                                          [SECTION .data]
  1680 00000090                                 LC14:
  1681 00000090 0A 49 4E 54 20 30 43 20 3A 0A   	DB	0x0A,"INT 0C :",0x0A," Stack Exception.",0x0A,0x00
       0000009A 20 53 74 61 63 6B 20 45 78 63 
       000000A4 65 70 74 69 6F 6E 2E 0A 00 
  1682 000000AD                                 LC15:
  1683 000000AD 45 49 50 20 3D 20 25 30 38 58   	DB	"EIP = %08X",0x0A,0x00
       000000B7 0A 00 
  1684                                          [SECTION .text]
  1685 00001049                                 	GLOBAL	_inthandler0c
  1686 00001049                                 _inthandler0c:
  1687 00001049 55                              	PUSH	EBP
  1688 0000104A 89 E5                           	MOV	EBP,ESP
  1689 0000104C 57                              	PUSH	EDI
  1690 0000104D 56                              	PUSH	ESI
  1691 0000104E 53                              	PUSH	EBX
  1692 0000104F 8D 5D D4                        	LEA	EBX,DWORD [-44+EBP]
  1693 00001052 83 EC 20                        	SUB	ESP,32
  1694 00001055 E8 [00000000]                   	CALL	_task_now
  1695 0000105A 89 C6                           	MOV	ESI,EAX
  1696 0000105C 8B B8 00000094                  	MOV	EDI,DWORD [148+EAX]
  1697 00001062 83 C6 30                        	ADD	ESI,48
  1698 00001065 68 [00000090]                   	PUSH	LC14
  1699 0000106A 57                              	PUSH	EDI
  1700 0000106B E8 FFFFF3B7                     	CALL	_cons_putstr0
  1701 00001070 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
  1702 00001073 FF 70 2C                        	PUSH	DWORD [44+EAX]
  1703 00001076 68 [000000AD]                   	PUSH	LC15
  1704 0000107B 53                              	PUSH	EBX
  1705 0000107C E8 [00000000]                   	CALL	_sprintf
  1706 00001081 53                              	PUSH	EBX
  1707 00001082 57                              	PUSH	EDI
  1708 00001083 E8 FFFFF39F                     	CALL	_cons_putstr0
  1709 00001088 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
  1710 0000108B 5B                              	POP	EBX
  1711 0000108C 89 F0                           	MOV	EAX,ESI
  1712 0000108E 5E                              	POP	ESI
  1713 0000108F 5F                              	POP	EDI
  1714 00001090 5D                              	POP	EBP
  1715 00001091 C3                              	RET
  1716                                          [SECTION .data]
  1717 000000B9                                 LC16:
  1718 000000B9 0A 49 4E 54 20 30 44 20 3A 0A   	DB	0x0A,"INT 0D :",0x0A," General Protected Exception.",0x0A,0x00
       000000C3 20 47 65 6E 65 72 61 6C 20 50 
       000000CD 72 6F 74 65 63 74 65 64 20 45 
       000000D7 78 63 65 70 74 69 6F 6E 2E 0A 
       000000E1 00 
  1719                                          [SECTION .text]
  1720 00001092                                 	GLOBAL	_inthandler0d
  1721 00001092                                 _inthandler0d:
  1722 00001092 55                              	PUSH	EBP
  1723 00001093 89 E5                           	MOV	EBP,ESP
  1724 00001095 57                              	PUSH	EDI
  1725 00001096 56                              	PUSH	ESI
  1726 00001097 53                              	PUSH	EBX
  1727 00001098 8D 5D D4                        	LEA	EBX,DWORD [-44+EBP]
  1728 0000109B 83 EC 20                        	SUB	ESP,32
  1729 0000109E E8 [00000000]                   	CALL	_task_now
  1730 000010A3 89 C6                           	MOV	ESI,EAX
  1731 000010A5 8B B8 00000094                  	MOV	EDI,DWORD [148+EAX]
  1732 000010AB 83 C6 30                        	ADD	ESI,48
  1733 000010AE 68 [000000B9]                   	PUSH	LC16
  1734 000010B3 57                              	PUSH	EDI
  1735 000010B4 E8 FFFFF36E                     	CALL	_cons_putstr0
  1736 000010B9 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
  1737 000010BC FF 70 2C                        	PUSH	DWORD [44+EAX]
  1738 000010BF 68 [000000AD]                   	PUSH	LC15
  1739 000010C4 53                              	PUSH	EBX
  1740 000010C5 E8 [00000000]                   	CALL	_sprintf
  1741 000010CA 53                              	PUSH	EBX
  1742 000010CB 57                              	PUSH	EDI
  1743 000010CC E8 FFFFF356                     	CALL	_cons_putstr0
  1744 000010D1 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
  1745 000010D4 5B                              	POP	EBX
  1746 000010D5 89 F0                           	MOV	EAX,ESI
  1747 000010D7 5E                              	POP	ESI
  1748 000010D8 5F                              	POP	EDI
  1749 000010D9 5D                              	POP	EBP
  1750 000010DA C3                              	RET
  1751 000010DB                                 	GLOBAL	_hrb_api_linewin
  1752 000010DB                                 _hrb_api_linewin:
  1753 000010DB 55                              	PUSH	EBP
  1754 000010DC 89 E5                           	MOV	EBP,ESP
  1755 000010DE 57                              	PUSH	EDI
  1756 000010DF 56                              	PUSH	ESI
  1757 000010E0 53                              	PUSH	EBX
  1758 000010E1 83 EC 0C                        	SUB	ESP,12
  1759 000010E4 8B 5D 0C                        	MOV	EBX,DWORD [12+EBP]
  1760 000010E7 8B 45 14                        	MOV	EAX,DWORD [20+EBP]
  1761 000010EA 89 D9                           	MOV	ECX,EBX
  1762 000010EC 8B 55 18                        	MOV	EDX,DWORD [24+EBP]
  1763 000010EF C1 E1 0A                        	SAL	ECX,10
  1764 000010F2 89 D7                           	MOV	EDI,EDX
  1765 000010F4 89 4D F0                        	MOV	DWORD [-16+EBP],ECX
  1766 000010F7 89 C6                           	MOV	ESI,EAX
  1767 000010F9 8B 4D 10                        	MOV	ECX,DWORD [16+EBP]
  1768 000010FC 2B 7D 10                        	SUB	EDI,DWORD [16+EBP]
  1769 000010FF C1 E1 0A                        	SAL	ECX,10
  1770 00001102 29 DE                           	SUB	ESI,EBX
  1771 00001104 89 4D EC                        	MOV	DWORD [-20+EBP],ECX
  1772 00001107 0F 88 000000A3                  	JS	L335
  1773 0000110D                                 L314:
  1774 0000110D 85 FF                           	TEST	EDI,EDI
  1775 0000110F 0F 88 00000094                  	JS	L336
  1776 00001115                                 L315:
  1777 00001115 39 FE                           	CMP	ESI,EDI
  1778 00001117 7C 62                           	JL	L316
  1779 00001119 8D 4E 01                        	LEA	ECX,DWORD [1+ESI]
  1780 0000111C 39 C3                           	CMP	EBX,EAX
  1781 0000111E BE FFFFFC00                     	MOV	ESI,-1024
  1782 00001123 7F 05                           	JG	L318
  1783 00001125 BE 00000400                     	MOV	ESI,1024
  1784 0000112A                                 L318:
  1785 0000112A 39 55 10                        	CMP	DWORD [16+EBP],EDX
  1786 0000112D 7F 46                           	JG	L319
  1787 0000112F 2B 55 10                        	SUB	EDX,DWORD [16+EBP]
  1788 00001132 42                              	INC	EDX
  1789 00001133                                 L334:
  1790 00001133 C1 E2 0A                        	SAL	EDX,10
  1791 00001136 89 D0                           	MOV	EAX,EDX
  1792 00001138 99                              	CDQ
  1793 00001139 F7 F9                           	IDIV	ECX
  1794 0000113B 89 C7                           	MOV	EDI,EAX
  1795 0000113D                                 L321:
  1796 0000113D 85 C9                           	TEST	ECX,ECX
  1797 0000113F 7E 2C                           	JLE	L332
  1798 00001141 89 CB                           	MOV	EBX,ECX
  1799 00001143                                 L330:
  1800 00001143 8B 55 08                        	MOV	EDX,DWORD [8+EBP]
  1801 00001146 8B 45 EC                        	MOV	EAX,DWORD [-20+EBP]
  1802 00001149 C1 F8 0A                        	SAR	EAX,10
  1803 0000114C 8B 4D F0                        	MOV	ECX,DWORD [-16+EBP]
  1804 0000114F 0F AF 42 04                     	IMUL	EAX,DWORD [4+EDX]
  1805 00001153 C1 F9 0A                        	SAR	ECX,10
  1806 00001156 89 4D E8                        	MOV	DWORD [-24+EBP],ECX
  1807 00001159 8B 0A                           	MOV	ECX,DWORD [EDX]
  1808 0000115B 03 45 E8                        	ADD	EAX,DWORD [-24+EBP]
  1809 0000115E 8A 55 1C                        	MOV	DL,BYTE [28+EBP]
  1810 00001161 88 14 08                        	MOV	BYTE [EAX+ECX*1],DL
  1811 00001164 01 75 F0                        	ADD	DWORD [-16+EBP],ESI
  1812 00001167 01 7D EC                        	ADD	DWORD [-20+EBP],EDI
  1813 0000116A 4B                              	DEC	EBX
  1814 0000116B 75 D6                           	JNE	L330
  1815 0000116D                                 L332:
  1816 0000116D 83 C4 0C                        	ADD	ESP,12
  1817 00001170 5B                              	POP	EBX
  1818 00001171 5E                              	POP	ESI
  1819 00001172 5F                              	POP	EDI
  1820 00001173 5D                              	POP	EBP
  1821 00001174 C3                              	RET
  1822 00001175                                 L319:
  1823 00001175 2B 55 10                        	SUB	EDX,DWORD [16+EBP]
  1824 00001178 4A                              	DEC	EDX
  1825 00001179 EB B8                           	JMP	L334
  1826 0000117B                                 L316:
  1827 0000117B 8D 4F 01                        	LEA	ECX,DWORD [1+EDI]
  1828 0000117E 39 55 10                        	CMP	DWORD [16+EBP],EDX
  1829 00001181 BF FFFFFC00                     	MOV	EDI,-1024
  1830 00001186 7F 05                           	JG	L323
  1831 00001188 BF 00000400                     	MOV	EDI,1024
  1832 0000118D                                 L323:
  1833 0000118D 39 C3                           	CMP	EBX,EAX
  1834 0000118F 7F 11                           	JG	L324
  1835 00001191 29 D8                           	SUB	EAX,EBX
  1836 00001193 8D 50 01                        	LEA	EDX,DWORD [1+EAX]
  1837 00001196                                 L333:
  1838 00001196 C1 E2 0A                        	SAL	EDX,10
  1839 00001199 89 D0                           	MOV	EAX,EDX
  1840 0000119B 99                              	CDQ
  1841 0000119C F7 F9                           	IDIV	ECX
  1842 0000119E 89 C6                           	MOV	ESI,EAX
  1843 000011A0 EB 9B                           	JMP	L321
  1844 000011A2                                 L324:
  1845 000011A2 29 D8                           	SUB	EAX,EBX
  1846 000011A4 8D 50 FF                        	LEA	EDX,DWORD [-1+EAX]
  1847 000011A7 EB ED                           	JMP	L333
  1848 000011A9                                 L336:
  1849 000011A9 F7 DF                           	NEG	EDI
  1850 000011AB E9 FFFFFF65                     	JMP	L315
  1851 000011B0                                 L335:
  1852 000011B0 F7 DE                           	NEG	ESI
  1853 000011B2 E9 FFFFFF56                     	JMP	L314
